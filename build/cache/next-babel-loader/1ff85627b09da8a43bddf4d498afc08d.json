{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _handleActions;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { handleActions, createAction } from \"redux-actions\";\nimport { dummyMeCreator } from \"../lib/util/dummyCreator\"; // initial state\n\nvar initialState = {\n  me: null,\n  setUserLoading: false,\n  setUserDone: false,\n  setUserFalse: null,\n  loginLoading: false,\n  loginDone: false,\n  loginError: null,\n  logoutLoading: false,\n  logoutDone: false,\n  logoutError: null,\n  registerLoading: false,\n  registerSuccess: false,\n  registerFailure: null\n}; // export me\n\nexport var getMe = function getMe() {\n  if (!initialState.me) {\n    return null;\n  } else {\n    console.log(_objectSpread({}, initialState.me));\n    return _objectSpread({}, initialState.me);\n  }\n}; // action type\n\nexport var SET_USER_REQUEST = \"user/SET_USER_REQUEST\";\nexport var SET_USER_SUCCESS = \"user/SET_USER_SUCCESS\";\nexport var SET_USER_FAILURE = \"user/SET_USER_FAILURE\";\nexport var LOG_IN_REQUEST = \"user/LOG_IN_REQUEST\";\nexport var LOG_IN_SUCCESS = \"user/LOG_IN_SUCCESS\";\nexport var LOG_IN_FAILURE = \"user/LOG_IN_FAILURE\";\nexport var LOG_OUT_REQUEST = \"user/LOG_OUT_REQUEST\";\nexport var LOG_OUT_SUCCESS = \"user/LOG_OUT_SUCCESS\";\nexport var LOG_OUT_FAILURE = \"user/LOG_OUT_FAILURE\";\nexport var REGISTER_REQUEST = \"user/REGISTER_REQUEST\"; // 제거예정\n\nexport var REGISTER_SUCCESS = \"user/REGISTER_SUCCESS\";\nexport var REGISTER_FAILURE = \"user/REGISTER_FAILURE\";\nexport var SET_CURRENT_OPPONENT = \"user/SET_CURRENT_OPPONENT\"; // action creator\n\nexport var setUserRequestAction = createAction(SET_USER_REQUEST, function (data) {\n  return data;\n});\nexport var loginRequestAction = createAction(LOG_IN_REQUEST, function (data) {\n  return data;\n});\nexport var logoutRequestAction = createAction(LOG_OUT_REQUEST);\nexport var registerRequestAction = createAction(REGISTER_REQUEST, function (data) {\n  return data;\n});\nexport var setCurrentOpponentRequestAction = createAction(SET_CURRENT_OPPONENT, function (data) {\n  return data;\n}); // reducer\n\nvar userReducer = handleActions((_handleActions = {}, _defineProperty(_handleActions, SET_USER_REQUEST, function (state, action) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    setUserLoading: true,\n    setUserDone: false,\n    setUserFalse: null\n  });\n}), _defineProperty(_handleActions, SET_USER_SUCCESS, function (state, action) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    setUserLoading: false,\n    setUserDone: true,\n    setUserFalse: null,\n    me: action.user\n  });\n}), _defineProperty(_handleActions, SET_USER_FAILURE, function (state, action) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    setUserLoading: false,\n    setUserDone: false,\n    setUserFalse: null\n  });\n}), _defineProperty(_handleActions, LOG_IN_REQUEST, function (state, action) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    loginLoading: true,\n    loginDone: false,\n    loginError: null\n  });\n}), _defineProperty(_handleActions, LOG_IN_SUCCESS, function (state, action) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    loginLoading: false,\n    loginDone: true,\n    loginError: null,\n    me: action.user\n  });\n}), _defineProperty(_handleActions, LOG_IN_FAILURE, function (state, action) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    loginLoading: false,\n    loginDone: false,\n    loginError: action.error\n  });\n}), _defineProperty(_handleActions, LOG_OUT_REQUEST, function (state, action) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    logoutLoading: true,\n    logoutDone: false,\n    logoutError: null\n  });\n}), _defineProperty(_handleActions, LOG_OUT_SUCCESS, function (state, action) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    logoutLoading: false,\n    logoutDone: true,\n    logoutError: null,\n    me: null\n  });\n}), _defineProperty(_handleActions, LOG_OUT_FAILURE, function (state, action) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    logoutLoading: false,\n    logoutDone: false,\n    logoutError: action.error\n  });\n}), _defineProperty(_handleActions, REGISTER_REQUEST, function (state, action) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    registerLoading: true,\n    registerSuccess: false,\n    registerFailure: null\n  });\n}), _defineProperty(_handleActions, REGISTER_SUCCESS, function (state, action) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    registerLoading: false,\n    registerSuccess: true,\n    registerFailure: null\n  });\n}), _defineProperty(_handleActions, REGISTER_FAILURE, function (state, action) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    registerLoading: false,\n    registerSuccess: false,\n    registerFailure: null\n  });\n}), _defineProperty(_handleActions, SET_CURRENT_OPPONENT, function (state, action) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    me: _objectSpread(_objectSpread({}, state.me), {}, {\n      opponent: action.payload.users.filter(function (v, i) {\n        if (v.nickname !== state.me.nickname) {\n          return v;\n        }\n      })[0].nickname\n    })\n  });\n}), _handleActions), initialState);\nexport default userReducer;","map":null,"metadata":{},"sourceType":"module"}