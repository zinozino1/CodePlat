{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[48],{\"0TIS\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/mypage(deprecated)\",function(){return n(\"yLYp\")}])},yLYp:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSP\",(function(){return w}));var c=n(\"nKUr\"),i=n(\"q1tI\"),a=n(\"BvKs\"),s=n(\"KrTs\"),r=n(\"cJ7L\"),o=n(\"+GxG\"),j=n(\"y0hu\"),u=n(\"Frsj\"),d=(n(\"cYDJ\"),n(\"oaLA\")),l=(n(\"w9p+\"),n(\"vOnD\")),b=n(\"8Kt/\"),f=n.n(b),h=n(\"XS2M\"),m=n(\"0SdC\"),x=(n(\"LAVF\"),n(\"Ktyj\")),p=n(\"/MKj\"),O=(n(\"je4i\"),n(\"DEwa\")),y=a.a.SubMenu,_=l.b.div.withConfig({displayName:\"mypagedeprecated__MenuWrapper\",componentId:\"sc-16sdllq-0\"})([\"display:flex;.menu-bar{flex:1;width:200px;height:90vh;}.menu-content{flex:4;}@media (max-width:768px){flex-direction:column;.menu-bar{height:100%;width:100%;}.menu-content{margin-bottom:3rem;}}\"]),w=!0;t.default=function(){var e=Object(p.d)((function(e){return e.user})).me,t=(Object(p.d)((function(e){return e.chat})).currentChatRoom,Object(p.c)()),n=Object(i.useState)(\"profile\"),l=n[0],b=n[1],w=Object(i.useCallback)((function(e){b(e.key)}),[]),v=Object(i.useState)(x.a.database().ref(\"chatRooms\")),g=v[0],S=(v[1],Object(i.useState)([])),k=S[0],E=S[1],N=Object(i.useState)(\"\"),C=N[0],I=N[1],K=Object(i.useCallback)((function(e){t(Object(O.c)(e))}),[]),L=[],T=Object(i.useState)(x.a.database().ref(\"messages\")),F=(T[0],T[1],function(e){var t=0;if(L.forEach((function(n,c){n.id===e.id&&(t=n.count)})),t>0)return t});return Object(i.useEffect)((function(){return function(){var e=[];g.on(\"child_added\",(function(t){e.push(t.val()),console.log(t),E([].concat(e))}))}(),function(){Object(O.b)(),g.off()}}),[]),e?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(f.a,{children:[Object(c.jsx)(\"meta\",{charSet:\"utf-8\"}),Object(c.jsx)(\"title\",{children:\"\\ub9c8\\uc774\\ud398\\uc774\\uc9c0\"})]}),Object(c.jsx)(u.a,{children:Object(c.jsxs)(_,{children:[Object(c.jsx)(\"div\",{className:\"menu-bar\",children:Object(c.jsxs)(a.a,{mode:\"inline\",style:{height:\"100%\"},defaultSelectedKeys:[\"profile\"],onClick:w,children:[Object(c.jsx)(a.a.Item,{icon:Object(c.jsx)(r.a,{}),children:\"\\ud504\\ub85c\\ud544 \\uc218\\uc815\"},\"profile\"),Object(c.jsx)(a.a.Item,{icon:Object(c.jsx)(o.a,{}),children:\"\\ub0b4 \\ud65c\\ub3d9\"},\"activity\"),Object(c.jsx)(y,{icon:Object(c.jsx)(j.a,{}),title:\"\\ucabd\\uc9c0\\ud568\",children:Object(c.jsx)(c.Fragment,{children:k.map((function(t,n){var i=!1;if(t.users.forEach((function(t,n){t.clientId===e._id&&(i=!0)})),i)return Object(c.jsx)(a.a.Item,{onClick:function(){I(t.id),K(t)},children:Object(c.jsxs)(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\"},children:[Object(c.jsx)(\"span\",{style:{},children:t.users.filter((function(t,n){if(t.nickname!==e.nickname)return t}))[0].nickname}),Object(c.jsx)(\"span\",{children:Object(c.jsx)(s.a,{count:F(t),style:{borderRadius:\"3px\",fontSize:\"9px\",padding:\"0 2px\",height:\"13px\",minWidth:\"13px\",lineHeight:\"13px\"}})})]})},t.users.filter((function(t,n){if(t.nickname!==e.nickname)return t}))[0].nickname);i=!1}))})},\"note\")]})}),Object(c.jsxs)(\"div\",{className:\"menu-content\",children:[\"profile\"===l&&Object(c.jsx)(h.a,{}),\"activity\"===l&&Object(c.jsx)(d.a,{}),\"profile\"!==l&&\"activity\"!==l&&Object(c.jsx)(m.a,{chatRoomKey:C,messages:!0})]})]})})]}):null}}},[[\"0TIS\",0,1,5,6,24,2,4,3,7,8,9,10,11,12,14,15,17,16,22,25]]]);","extractedComments":[]}