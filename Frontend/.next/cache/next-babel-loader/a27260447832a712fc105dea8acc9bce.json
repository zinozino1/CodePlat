{"ast":null,"code":"import React from \"react\";\nimport styled from \"styled-components\";\nimport { List, Avatar, Tag, Popover, Comment, Divider } from \"antd\";\nimport ProfileModal from \"../../modal/ProfileModal\";\nimport { UserOutlined } from \"@ant-design/icons\";\nimport CommentForm from \"./CommentForm\";\nimport { useSelector } from \"react-redux\";\nimport CommentListItem from \"./CommentListItem\";\nimport { SERVER_URL } from \"../../../lib/constant/constant\";\n/**\n * @author 박진호\n * @version 1.0\n * @summary 포스트 뷰어 컨텐트 컴포넌트\n */\n// style\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst PostViewerContentWrapper = styled.div.withConfig({\n  displayName: \"PostViewerContent__PostViewerContentWrapper\",\n  componentId: \"um5spt-0\"\n})([\"background:#fff;padding:20px 40px;.post-summary{padding:20px 0;.label{color:#888;flex:1;}.content{flex:10;}.summary-row{display:flex;padding:5px 0;}@media (max-width:768px){.label{flex:1;}.content{flex:3;}}}.post-content{font-weight:400;font-size:16px;padding:20px 0;.ql-syntax{background:#111;color:#fff;padding:20px;border-radius:4px;font-family:\\\"Liberation Mono\\\",Menlo,Courier,monospace;}}.comment-form{padding:15px 0;}\"]);\n\nconst PostViewerContent = ({\n  post,\n  contentType\n}) => {\n  // redux\n  const {\n    me\n  } = useSelector(state => state.user); // helper method\n\n  const mergeFiles = () => {\n    let mergedFiles = [];\n\n    for (let i = 0; i < post.fileUrl.length; i++) {\n      let newFile = {};\n      newFile.url = `${SERVER_URL}/${post.fileUrl[i]}`;\n      newFile.thumbUrl = `${SERVER_URL}/${post.fileUrl[i]}`;\n      newFile.name = post.fileName[i];\n      newFile.uid = i;\n      newFile.status = \"done\";\n      mergedFiles.push(newFile);\n    }\n\n    return mergedFiles;\n  };\n\n  return /*#__PURE__*/_jsxs(PostViewerContentWrapper, {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"post-title\",\n      children: /*#__PURE__*/_jsx(\"h2\", {\n        children: post.title\n      })\n    }), contentType == \"forum\" && /*#__PURE__*/_jsx(\"div\", {\n      className: \"post-summary\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"summary-row\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"label\",\n          children: /*#__PURE__*/_jsx(\"span\", {\n            children: \"\\uD0DC\\uADF8\"\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"content\",\n          children: post.tag.map((v, i) => /*#__PURE__*/_jsx(Tag, {\n            color: \"magenta\",\n            children: v\n          }, v))\n        })]\n      })\n    }), (contentType == \"study\" || contentType === \"project\") && /*#__PURE__*/_jsxs(\"div\", {\n      className: \"post-summary\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"summary-row\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"label\",\n          children: /*#__PURE__*/_jsx(\"span\", {\n            children: \"\\uD65C\\uC6A9 \\uAE30\\uC220\"\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"content\",\n          children: post.techStack.map((v, i) => /*#__PURE__*/_jsx(Tag, {\n            color: \"magenta\",\n            children: v\n          }, v))\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"summary-row\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"label\",\n          children: /*#__PURE__*/_jsx(\"span\", {\n            children: \"\\uC9C0\\uC5ED\"\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"content\",\n          children: /*#__PURE__*/_jsx(Tag, {\n            color: \"geekblue\",\n            children: post.location\n          })\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"summary-row\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"label\",\n          children: /*#__PURE__*/_jsx(\"span\", {\n            children: \"\\uBAA8\\uC9D1 \\uC778\\uC6D0\"\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"content\",\n          children: /*#__PURE__*/_jsx(Tag, {\n            color: \"gold\",\n            children: post.recruitment\n          })\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"summary-row\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"label\",\n          children: /*#__PURE__*/_jsx(\"span\", {\n            children: \"\\uC9C4\\uD589 \\uC5EC\\uBD80\"\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"content\",\n          children: /*#__PURE__*/_jsx(Tag, {\n            color: \"volcano\",\n            children: \"\\uBAA8\\uC9D1\\uC911\"\n          })\n        })]\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"post-content\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: post.content\n        }\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        children: [mergeFiles().length > 0 && /*#__PURE__*/_jsx(\"div\", {\n          style: {\n            textAlign: \"right\",\n            color: \"#999\"\n          },\n          children: \"\\uCCA8\\uBD80\\uD30C\\uC77C\"\n        }), mergeFiles().map((v, i) => /*#__PURE__*/_jsx(\"div\", {\n          style: {\n            textAlign: \"right\",\n            fontSize: \"13px\"\n          },\n          children: /*#__PURE__*/_jsx(\"a\", {\n            href: v.url,\n            download: true,\n            children: v.name\n          })\n        }, i))]\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"comment-list-wrapper\",\n      children: [post && /*#__PURE__*/_jsx(List, {\n        className: \"comment-list\",\n        header: `${post.comments.length}개의 댓글이 있습니다.`,\n        itemLayout: \"horizontal\",\n        dataSource: post.comments,\n        renderItem: item => !item.commentTo && /*#__PURE__*/_jsx(CommentListItem, {\n          item: item,\n          post: post\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"comment-form\",\n        children: [/*#__PURE__*/_jsx(Divider, {}), /*#__PURE__*/_jsx(Comment, {\n          post: post,\n          avatar: /*#__PURE__*/_jsxs(Popover, {\n            content: /*#__PURE__*/_jsx(\"div\", {\n              onClick: e => {\n                e.stopPropagation();\n              },\n              children: me && /*#__PURE__*/_jsx(ProfileModal, {\n                writer: me\n              })\n            }),\n            children: [/*#__PURE__*/_jsx(Avatar, {\n              onClick: e => {\n                e.stopPropagation();\n              },\n              style: {\n                cursor: \"pointer\"\n              },\n              icon: /*#__PURE__*/_jsx(UserOutlined, {}),\n              size: 32,\n              src: me && me.avatarUrl && /*#__PURE__*/_jsx(\"img\", {\n                src: `${SERVER_URL}/${me.avatarUrl}`,\n                width: 32,\n                hieght: 32\n              })\n            }), \" \"]\n          }),\n          content: /*#__PURE__*/_jsx(CommentForm, {\n            post: post\n          })\n        })]\n      })]\n    })]\n  });\n};\n\nexport default PostViewerContent;","map":null,"metadata":{},"sourceType":"module"}