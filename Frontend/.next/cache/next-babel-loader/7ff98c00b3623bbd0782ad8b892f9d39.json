{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/jinho/Project/ProjectFrontend/components/common/contents/WriteForm.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useCallback } from \"react\";\nimport styled from \"styled-components\";\nimport SkillFilterForm from \"./SkillFilterForm\";\nimport { Select, Upload, Button } from \"antd\";\nimport { UploadOutlined } from \"@ant-design/icons\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Locations, SERVER_URL, CLIENT_URL } from \"../../../lib/constant/constant\";\nimport TagBox from \"./TagBox\";\nimport { writePostRequestAction } from \"../../../reducers/post\";\nimport Router, { withRouter } from \"next/router\";\nimport axios from \"axios\";\nimport Editor from \"./Editor\";\nimport FormData from \"form-data\";\n/**\n * @author 박진호\n * @version 1.0\n * @summary 포스트 글작성 컴포넌트\n */\n// style\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar WriteFormWrapper = styled.div.withConfig({\n  displayName: \"WriteForm__WriteFormWrapper\",\n  componentId: \"nyap5p-0\"\n})([\"margin:40px 0;background:#fff;padding:40px;.file-btn{&:hover{color:#111;border:1px solid #313355;}}\"]);\n_c = WriteFormWrapper;\nvar TitleWrapper = styled.h3.withConfig({\n  displayName: \"WriteForm__TitleWrapper\",\n  componentId: \"nyap5p-1\"\n})([\"margin-bottom:30px;\"]);\n_c2 = TitleWrapper;\nvar FormItemWrapper = styled.div.withConfig({\n  displayName: \"WriteForm__FormItemWrapper\",\n  componentId: \"nyap5p-2\"\n})([\"margin-bottom:30px;\"]);\n_c3 = FormItemWrapper;\nvar Label = styled.span.withConfig({\n  displayName: \"WriteForm__Label\",\n  componentId: \"nyap5p-3\"\n})([\"font-weight:500;\"]);\n_c4 = Label;\nvar EditFileList = styled.div.withConfig({\n  displayName: \"WriteForm__EditFileList\",\n  componentId: \"nyap5p-4\"\n})([\"margin:8px 0;border:1px solid #ccc;padding:8px;\"]); // helper variables\n\nvar LocationSelectChildren = [];\nvar PeopleSelectChildren = [];\nvar ForumSelectChildren = [/*#__PURE__*/_jsxDEV(Select.Option, {\n  children: \"\\uC790\\uC720\"\n}, \"자유\", false, {\n  fileName: _jsxFileName,\n  lineNumber: 62,\n  columnNumber: 3\n}, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n  children: \"QnA\"\n}, \"QnA\", false, {\n  fileName: _jsxFileName,\n  lineNumber: 63,\n  columnNumber: 3\n}, this)];\nLocations.forEach(function (v, i) {\n  LocationSelectChildren.push( /*#__PURE__*/_jsxDEV(Select.Option, {\n    children: v.value\n  }, v.key, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, _this));\n});\n\nfor (var i = 0; i < 10; i++) {\n  PeopleSelectChildren.push( /*#__PURE__*/_jsxDEV(Select.Option, {\n    children: i + 1\n  }, i + 1, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 29\n  }, this));\n}\n\nvar WriteForm = function WriteForm(_ref) {\n  _s();\n\n  var contentType = _ref.contentType,\n      router = _ref.router,\n      isEdit = _ref.isEdit;\n  // redux\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.post;\n  }),\n      post = _useSelector.post;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.skill;\n  }),\n      skill = _useSelector2.skill;\n\n  var _useSelector3 = useSelector(function (state) {\n    return state.user;\n  }),\n      me = _useSelector3.me; // helper method\n\n\n  var mergeFiles = function mergeFiles() {\n    var mergedFiles = [];\n\n    for (var _i = 0; _i < fileList.length; _i++) {\n      var newFile = {};\n      newFile.url = \"\".concat(SERVER_URL, \"/\").concat(fileList[_i]);\n      newFile.thumbUrl = \"\".concat(SERVER_URL, \"/\").concat(fileList[_i]);\n      newFile.name = fileNames[_i];\n      newFile.uid = _i;\n      newFile.status = \"done\";\n      mergedFiles.push(newFile);\n    }\n\n    return mergedFiles;\n  }; // local state\n\n\n  var _ref2 = isEdit ? useState(post.title) : useState(\"\"),\n      _ref3 = _slicedToArray(_ref2, 2),\n      title = _ref3[0],\n      setTitle = _ref3[1];\n\n  var _ref4 = isEdit ? useState(post.content) : useState(\"\"),\n      _ref5 = _slicedToArray(_ref4, 2),\n      description = _ref5[0],\n      setDescription = _ref5[1];\n\n  var _ref6 = isEdit ? useState(post.fileUrl) : useState([]),\n      _ref7 = _slicedToArray(_ref6, 2),\n      fileList = _ref7[0],\n      setFileList = _ref7[1];\n\n  var _ref8 = isEdit ? useState(post.fileName) : useState([]),\n      _ref9 = _slicedToArray(_ref8, 2),\n      fileNames = _ref9[0],\n      setFileNames = _ref9[1];\n\n  var _useState = useState(mergeFiles()),\n      mergedFiles = _useState[0],\n      setMergedFiles = _useState[1];\n\n  var _ref10 = isEdit ? useState(post.recruitment) : useState(1),\n      _ref11 = _slicedToArray(_ref10, 2),\n      peopleNumber = _ref11[0],\n      setPeopleNumber = _ref11[1];\n\n  var _ref12 = isEdit ? useState(post.location) : useState(\"전체\"),\n      _ref13 = _slicedToArray(_ref12, 2),\n      location = _ref13[0],\n      setLocation = _ref13[1];\n\n  var _ref14 = isEdit ? useState(post.field) : useState(\"자유\"),\n      _ref15 = _slicedToArray(_ref14, 2),\n      filter = _ref15[0],\n      setFilter = _ref15[1];\n\n  var _ref16 = isEdit ? useState(post.tag) : useState([]),\n      _ref17 = _slicedToArray(_ref16, 2),\n      tags = _ref17[0],\n      setTags = _ref17[1];\n\n  var _useState2 = useState(false),\n      inputVisible = _useState2[0],\n      setInputVisible = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      inputValue = _useState3[0],\n      setInputValue = _useState3[1];\n\n  var _useState4 = useState(-1),\n      editInputIndex = _useState4[0],\n      setEditInputIndex = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      editInputValue = _useState5[0],\n      setEditInputValue = _useState5[1]; // event listener\n\n\n  var onChangeTitle = useCallback(function (e) {\n    setTitle(e.target.value);\n  }, []);\n  var onChangeDescription = useCallback(function (e) {\n    setDescription(e);\n  }, []);\n  var onChangeFileList = useCallback(function (e) {\n    setMergedFiles(mergedFiles.concat(e));\n  }, [mergedFiles]);\n  var onRemoveFile = useCallback(function (e) {\n    setMergedFiles(mergedFiles.filter(function (v, i) {\n      if (v.uid !== e.uid) {\n        return _objectSpread({}, v);\n      }\n    }));\n  }, [mergedFiles]);\n  var onChangePeopleNumber = useCallback(function (value) {\n    setPeopleNumber(value);\n  }, []);\n  var onChangeLocation = useCallback(function (value) {\n    setLocation(value);\n  }, []);\n  var onStudyAndProjectSubmit = useCallback(function () {\n    if (!me) {\n      alert(\"로그인이 필요한 서비스입니다.\");\n      return;\n    }\n\n    if (skill.length === 0) {\n      alert(\"활용기술을 하나 이상 선택해주세요.\");\n      return;\n    }\n\n    if (title === \"\") {\n      alert(\"제목을 채워주세요.\");\n      return;\n    }\n\n    if (description === \"\") {\n      alert(\"내용을 채워주세요.\");\n      return;\n    }\n\n    if (description.length < 5) {\n      alert(\"내용을 5글자 이상 써주세요.\");\n      return;\n    }\n\n    var submitConfirm = confirm(\"게시물을 등록하시겠습니까?\");\n\n    if (submitConfirm) {\n      var formData = new FormData();\n      mergedFiles.forEach(function (file) {\n        return formData.append(\"files\", file);\n      });\n      formData.append(\"type\", contentType);\n      formData.append(\"writer\", me._id);\n      formData.append(\"title\", title);\n      formData.append(\"content\", description);\n      formData.append(\"techStack\", JSON.stringify(skill));\n      formData.append(\"recruitment\", peopleNumber);\n      formData.append(\"location\", location);\n      dispatch(writePostRequestAction(formData));\n    } else {\n      return;\n    }\n  }, [skill, title, description, peopleNumber, location, me, router, mergedFiles]);\n  var onStudyAndProjectEdit = useCallback(function () {\n    if (!me) {\n      alert(\"로그인이 필요한 서비스입니다.\");\n      return;\n    }\n\n    if (skill.length === 0) {\n      alert(\"활용기술을 하나 이상 선택해주세요.\");\n      return;\n    }\n\n    if (title === \"\") {\n      alert(\"제목을 채워주세요.\");\n      return;\n    }\n\n    if (description === \"\") {\n      alert(\"내용을 채워주세요.\");\n      return;\n    }\n\n    if (description.length < 5) {\n      alert(\"내용을 5글자 이상 써주세요.\");\n      return;\n    }\n\n    var editConfirm = confirm(\"수정하시겠습니까?\");\n\n    if (editConfirm) {\n      var formData = new FormData();\n      var existFilePaths = [];\n      var existFileNames = [];\n      mergedFiles.forEach(function (file) {\n        if (file.size) {\n          formData.append(\"files\", file);\n        } else {\n          existFilePaths.push(file.url.replace(\"\".concat(SERVER_URL, \"/\"), \"\"));\n          existFileNames.push(file.name);\n        }\n      });\n      formData.append(\"type\", contentType);\n      formData.append(\"id\", post._id);\n      formData.append(\"title\", title);\n      formData.append(\"content\", description);\n      formData.append(\"recruitment\", peopleNumber);\n      formData.append(\"location\", location);\n      formData.append(\"techStack\", JSON.stringify(skill));\n      formData.append(\"filePath\", JSON.stringify(existFilePaths));\n      formData.append(\"fileName\", JSON.stringify(existFileNames));\n      axios.patch(\"api/posts\", formData).then(function () {\n        Router.push(\"/articles/\".concat(post.type, \"/\").concat(post._id));\n      })[\"catch\"](function (error) {\n        alert(\"수정실패\");\n      });\n    } else {\n      return;\n    }\n  }, [skill, title, description, peopleNumber, location, post, mergedFiles]);\n  var onChangeFilter = useCallback(function (value) {\n    setFilter(value);\n  }, []);\n  var onForumSubmit = useCallback(function () {\n    if (!me) {\n      alert(\"로그인이 필요한 서비스입니다.\");\n      return;\n    }\n\n    if (title === \"\") {\n      alert(\"제목을 채워주세요.\");\n      return;\n    }\n\n    if (description === \"\") {\n      alert(\"내용을 채워주세요.\");\n      return;\n    }\n\n    if (description.length < 5) {\n      alert(\"내용을 5글자 이상 써주세요.\");\n      return;\n    }\n\n    var submitConfirm = confirm(\"게시물을 등록하시겠습니까?\");\n\n    if (submitConfirm) {\n      var formData = new FormData();\n      mergedFiles.forEach(function (file) {\n        return formData.append(\"files\", file);\n      });\n      formData.append(\"type\", \"forum\");\n      formData.append(\"writer\", me._id);\n      formData.append(\"title\", title);\n      formData.append(\"content\", description);\n      formData.append(\"tag\", JSON.stringify(tags));\n      formData.append(\"field\", filter);\n      dispatch(writePostRequestAction(formData));\n    } else {\n      return;\n    }\n  }, [title, description, tags, router, me, filter, mergedFiles]);\n  var onForumEdit = useCallback(function () {\n    if (!me) {\n      alert(\"로그인이 필요한 서비스입니다.\");\n      return;\n    }\n\n    if (title === \"\") {\n      alert(\"제목을 채워주세요.\");\n      return;\n    }\n\n    if (description === \"\") {\n      alert(\"내용을 채워주세요.\");\n      return;\n    }\n\n    if (description.length < 5) {\n      alert(\"내용을 5글자 이상 써주세요.\");\n      return;\n    }\n\n    var editConfirm = confirm(\"수정하시겠습니까?\");\n\n    if (editConfirm) {\n      var formData = new FormData();\n      var existFilePaths = [];\n      var existFileNames = [];\n      mergedFiles.forEach(function (file) {\n        if (file.size) {\n          formData.append(\"files\", file);\n        } else {\n          existFilePaths.push(file.url.replace(\"\".concat(SERVER_URL, \"/\"), \"\"));\n          existFileNames.push(file.name);\n        }\n      });\n      formData.append(\"type\", \"forum\");\n      formData.append(\"id\", post._id);\n      formData.append(\"title\", title);\n      formData.append(\"content\", description);\n      formData.append(\"tag\", JSON.stringify(tags));\n      formData.append(\"field\", filter);\n      formData.append(\"filePath\", JSON.stringify(existFilePaths));\n      formData.append(\"fileName\", JSON.stringify(existFileNames));\n      axios.patch(\"api/posts\", formData).then(function () {\n        Router.push(\"/\".concat(post.type, \"/\").concat(post._id));\n      })[\"catch\"](function (error) {\n        alert(\"수정실패\");\n      });\n    } else {\n      return;\n    }\n  }, [title, description, tags, post, filter, mergedFiles]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: contentType == \"study\" || contentType == \"project\" ? /*#__PURE__*/_jsxDEV(WriteFormWrapper, {\n      children: [contentType === \"study\" ? /*#__PURE__*/_jsxDEV(TitleWrapper, {\n        children: \"\\uC2A4\\uD130\\uB514 \\uBAA8\\uC9D1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 13\n      }, _this) : /*#__PURE__*/_jsxDEV(TitleWrapper, {\n        children: \"\\uD504\\uB85C\\uC81D\\uD2B8 \\uBAA8\\uC9D1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(FormItemWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: \"7px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Label, {\n            children: \"\\uD65C\\uC6A9\\uAE30\\uC220\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(SkillFilterForm, {\n          type: \"write\",\n          isEdit: isEdit,\n          values: isEdit && post.techStack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(FormItemWrapper, {\n        style: {\n          display: \"flex\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          style: {\n            lineHeight: \"32px\"\n          },\n          children: \"\\uBAA8\\uC9D1\\uC778\\uC6D0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(Select, {\n          defaultValue: isEdit ? post.recruitment : \"1\",\n          bordered: false,\n          style: {\n            color: \"#999\"\n          },\n          onChange: onChangePeopleNumber,\n          children: PeopleSelectChildren\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(Label, {\n          style: {\n            lineHeight: \"32px\"\n          },\n          children: \"\\uC9C0\\uC5ED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(Select, {\n          defaultValue: isEdit ? post.location : \"전체\",\n          bordered: false,\n          style: {\n            color: \"#999\"\n          },\n          onChange: onChangeLocation,\n          children: LocationSelectChildren\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Editor, {\n        onChangeDescription: onChangeDescription,\n        onChangeTitle: onChangeTitle,\n        description: description,\n        title: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Upload, {\n        name: \"logo\",\n        beforeUpload: onChangeFileList,\n        defaultFileList: mergeFiles(),\n        onRemove: onRemoveFile,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: \"file-btn\",\n          icon: /*#__PURE__*/_jsxDEV(UploadOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 48\n          }, _this),\n          children: \"\\uD30C\\uC77C \\uC5C5\\uB85C\\uB4DC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\",\n          margin: \"50px 0\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          style: {\n            width: \"100px\",\n            background: \"#313355\",\n            color: \"#fff\",\n            border: \"1px solid #313355\"\n          },\n          onClick: isEdit ? onStudyAndProjectEdit : onStudyAndProjectSubmit,\n          children: isEdit ? \"수정\" : \"등록\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 9\n    }, _this) : /*#__PURE__*/_jsxDEV(WriteFormWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(TitleWrapper, {\n        children: \"\\uAE00\\uC4F0\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(FormItemWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          style: {\n            lineHeight: \"32px\"\n          },\n          children: \"\\uBD84\\uB958\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(Select, {\n          defaultValue: isEdit ? post.field : filter,\n          bordered: false,\n          style: {\n            color: \"#999\"\n          },\n          onChange: onChangeFilter,\n          children: ForumSelectChildren\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(FormItemWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: \"7px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Label, {\n            children: \"\\uD0DC\\uADF8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(TagBox, {\n          tags: tags,\n          setTags: setTags,\n          inputVisible: inputVisible,\n          setInputVisible: setInputVisible,\n          inputValue: inputValue,\n          setInputValue: setInputValue,\n          editInputIndex: editInputIndex,\n          setEditInputIndex: setEditInputIndex,\n          editInputValue: editInputValue,\n          setEditInputValue: setEditInputValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Editor, {\n        onChangeDescription: onChangeDescription,\n        onChangeTitle: onChangeTitle,\n        description: description,\n        title: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Upload, {\n        name: \"logo\",\n        beforeUpload: onChangeFileList,\n        defaultFileList: mergeFiles(),\n        onRemove: onRemoveFile,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: \"file-btn\",\n          icon: /*#__PURE__*/_jsxDEV(UploadOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 48\n          }, _this),\n          children: \"\\uD30C\\uC77C \\uC5C5\\uB85C\\uB4DC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\",\n          margin: \"50px 0\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          style: {\n            width: \"100px\",\n            background: \"#313355\",\n            color: \"#fff\",\n            border: \"1px solid #313355\"\n          },\n          onClick: isEdit ? onForumEdit : onForumSubmit,\n          children: isEdit ? \"수정\" : \"등록\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 9\n    }, _this)\n  }, void 0, false);\n};\n\n_s(WriteForm, \"E97Ok2MzKm0KSUkyPVSDNszYwrw=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c5 = WriteForm;\nexport default _c6 = withRouter(WriteForm);\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"WriteFormWrapper\");\n$RefreshReg$(_c2, \"TitleWrapper\");\n$RefreshReg$(_c3, \"FormItemWrapper\");\n$RefreshReg$(_c4, \"Label\");\n$RefreshReg$(_c5, \"WriteForm\");\n$RefreshReg$(_c6, \"%default%\");","map":{"version":3,"sources":["/Users/jinho/Project/ProjectFrontend/components/common/contents/WriteForm.jsx"],"names":["React","useState","useCallback","styled","SkillFilterForm","Select","Upload","Button","UploadOutlined","useSelector","useDispatch","Locations","SERVER_URL","CLIENT_URL","TagBox","writePostRequestAction","Router","withRouter","axios","Editor","FormData","WriteFormWrapper","div","TitleWrapper","h3","FormItemWrapper","Label","span","EditFileList","LocationSelectChildren","PeopleSelectChildren","ForumSelectChildren","forEach","v","i","push","value","key","WriteForm","contentType","router","isEdit","dispatch","state","post","skill","user","me","mergeFiles","mergedFiles","fileList","length","newFile","url","thumbUrl","name","fileNames","uid","status","title","setTitle","content","description","setDescription","fileUrl","setFileList","fileName","setFileNames","setMergedFiles","recruitment","peopleNumber","setPeopleNumber","location","setLocation","field","filter","setFilter","tag","tags","setTags","inputVisible","setInputVisible","inputValue","setInputValue","editInputIndex","setEditInputIndex","editInputValue","setEditInputValue","onChangeTitle","e","target","onChangeDescription","onChangeFileList","concat","onRemoveFile","onChangePeopleNumber","onChangeLocation","onStudyAndProjectSubmit","alert","submitConfirm","confirm","formData","file","append","_id","JSON","stringify","onStudyAndProjectEdit","editConfirm","existFilePaths","existFileNames","size","replace","patch","then","type","error","onChangeFilter","onForumSubmit","onForumEdit","marginBottom","techStack","display","lineHeight","color","textAlign","margin","width","background","border"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from \"react\";\nimport styled from \"styled-components\";\nimport SkillFilterForm from \"./SkillFilterForm\";\nimport { Select, Upload, Button } from \"antd\";\nimport { UploadOutlined } from \"@ant-design/icons\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  Locations,\n  SERVER_URL,\n  CLIENT_URL,\n} from \"../../../lib/constant/constant\";\nimport TagBox from \"./TagBox\";\nimport { writePostRequestAction } from \"../../../reducers/post\";\nimport Router, { withRouter } from \"next/router\";\nimport axios from \"axios\";\nimport Editor from \"./Editor\";\nimport FormData from \"form-data\";\n\n/**\n * @author 박진호\n * @version 1.0\n * @summary 포스트 글작성 컴포넌트\n */\n\n// style\n\nconst WriteFormWrapper = styled.div`\n  margin: 40px 0;\n  background: #fff;\n  padding: 40px;\n  .file-btn {\n    &:hover {\n      color: #111;\n      border: 1px solid #313355;\n    }\n  }\n`;\n\nconst TitleWrapper = styled.h3`\n  margin-bottom: 30px;\n`;\n\nconst FormItemWrapper = styled.div`\n  margin-bottom: 30px;\n`;\n\nconst Label = styled.span`\n  font-weight: 500;\n`;\n\nconst EditFileList = styled.div`\n  margin: 8px 0;\n  border: 1px solid #ccc;\n  padding: 8px;\n`;\n\n// helper variables\n\nconst LocationSelectChildren = [];\nconst PeopleSelectChildren = [];\nconst ForumSelectChildren = [\n  <Select.Option key=\"자유\">자유</Select.Option>,\n  <Select.Option key=\"QnA\">QnA</Select.Option>,\n];\nLocations.forEach((v, i) => {\n  LocationSelectChildren.push(\n    <Select.Option key={v.key}>{v.value}</Select.Option>,\n  );\n});\nfor (let i = 0; i < 10; i++) {\n  PeopleSelectChildren.push(<Select.Option key={i + 1}>{i + 1}</Select.Option>);\n}\n\nconst WriteForm = ({ contentType, router, isEdit }) => {\n  // redux\n\n  const dispatch = useDispatch();\n  const { post } = useSelector((state) => state.post);\n  const { skill } = useSelector((state) => state.skill);\n  const { me } = useSelector((state) => state.user);\n\n  // helper method\n\n  const mergeFiles = () => {\n    let mergedFiles = [];\n    for (let i = 0; i < fileList.length; i++) {\n      let newFile = {};\n      newFile.url = `${SERVER_URL}/${fileList[i]}`;\n      newFile.thumbUrl = `${SERVER_URL}/${fileList[i]}`;\n      newFile.name = fileNames[i];\n      newFile.uid = i;\n      newFile.status = \"done\";\n      mergedFiles.push(newFile);\n    }\n    return mergedFiles;\n  };\n\n  // local state\n\n  const [title, setTitle] = isEdit ? useState(post.title) : useState(\"\");\n  const [description, setDescription] = isEdit\n    ? useState(post.content)\n    : useState(\"\");\n  const [fileList, setFileList] = isEdit\n    ? useState(post.fileUrl)\n    : useState([]);\n  const [fileNames, setFileNames] = isEdit\n    ? useState(post.fileName)\n    : useState([]);\n  const [mergedFiles, setMergedFiles] = useState(mergeFiles());\n  const [peopleNumber, setPeopleNumber] = isEdit\n    ? useState(post.recruitment)\n    : useState(1);\n  const [location, setLocation] = isEdit\n    ? useState(post.location)\n    : useState(\"전체\");\n  const [filter, setFilter] = isEdit ? useState(post.field) : useState(\"자유\");\n  const [tags, setTags] = isEdit ? useState(post.tag) : useState([]);\n  const [inputVisible, setInputVisible] = useState(false);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [editInputIndex, setEditInputIndex] = useState(-1);\n  const [editInputValue, setEditInputValue] = useState(\"\");\n\n  // event listener\n\n  const onChangeTitle = useCallback((e) => {\n    setTitle(e.target.value);\n  }, []);\n  const onChangeDescription = useCallback((e) => {\n    setDescription(e);\n  }, []);\n  const onChangeFileList = useCallback(\n    (e) => {\n      setMergedFiles(mergedFiles.concat(e));\n    },\n    [mergedFiles],\n  );\n  const onRemoveFile = useCallback(\n    (e) => {\n      setMergedFiles(\n        mergedFiles.filter((v, i) => {\n          if (v.uid !== e.uid) {\n            return { ...v };\n          }\n        }),\n      );\n    },\n    [mergedFiles],\n  );\n  const onChangePeopleNumber = useCallback((value) => {\n    setPeopleNumber(value);\n  }, []);\n  const onChangeLocation = useCallback((value) => {\n    setLocation(value);\n  }, []);\n\n  const onStudyAndProjectSubmit = useCallback(() => {\n    if (!me) {\n      alert(\"로그인이 필요한 서비스입니다.\");\n      return;\n    }\n    if (skill.length === 0) {\n      alert(\"활용기술을 하나 이상 선택해주세요.\");\n      return;\n    }\n    if (title === \"\") {\n      alert(\"제목을 채워주세요.\");\n      return;\n    }\n    if (description === \"\") {\n      alert(\"내용을 채워주세요.\");\n      return;\n    }\n    if (description.length < 5) {\n      alert(\"내용을 5글자 이상 써주세요.\");\n      return;\n    }\n    let submitConfirm = confirm(\"게시물을 등록하시겠습니까?\");\n    if (submitConfirm) {\n      const formData = new FormData();\n      mergedFiles.forEach((file) => formData.append(\"files\", file));\n\n      formData.append(\"type\", contentType);\n      formData.append(\"writer\", me._id);\n      formData.append(\"title\", title);\n      formData.append(\"content\", description);\n      formData.append(\"techStack\", JSON.stringify(skill));\n      formData.append(\"recruitment\", peopleNumber);\n      formData.append(\"location\", location);\n\n      dispatch(writePostRequestAction(formData));\n    } else {\n      return;\n    }\n  }, [\n    skill,\n    title,\n    description,\n    peopleNumber,\n    location,\n    me,\n    router,\n    mergedFiles,\n  ]);\n\n  const onStudyAndProjectEdit = useCallback(() => {\n    if (!me) {\n      alert(\"로그인이 필요한 서비스입니다.\");\n      return;\n    }\n    if (skill.length === 0) {\n      alert(\"활용기술을 하나 이상 선택해주세요.\");\n      return;\n    }\n    if (title === \"\") {\n      alert(\"제목을 채워주세요.\");\n      return;\n    }\n    if (description === \"\") {\n      alert(\"내용을 채워주세요.\");\n      return;\n    }\n    if (description.length < 5) {\n      alert(\"내용을 5글자 이상 써주세요.\");\n      return;\n    }\n    let editConfirm = confirm(\"수정하시겠습니까?\");\n    if (editConfirm) {\n      const formData = new FormData();\n      let existFilePaths = [];\n      let existFileNames = [];\n      mergedFiles.forEach((file) => {\n        if (file.size) {\n          formData.append(\"files\", file);\n        } else {\n          existFilePaths.push(file.url.replace(`${SERVER_URL}/`, \"\"));\n          existFileNames.push(file.name);\n        }\n      });\n\n      formData.append(\"type\", contentType);\n      formData.append(\"id\", post._id);\n      formData.append(\"title\", title);\n      formData.append(\"content\", description);\n      formData.append(\"recruitment\", peopleNumber);\n      formData.append(\"location\", location);\n      formData.append(\"techStack\", JSON.stringify(skill));\n      formData.append(\"filePath\", JSON.stringify(existFilePaths));\n      formData.append(\"fileName\", JSON.stringify(existFileNames));\n      axios\n        .patch(`api/posts`, formData)\n        .then(() => {\n          Router.push(`/articles/${post.type}/${post._id}`);\n        })\n        .catch((error) => {\n          alert(\"수정실패\");\n        });\n    } else {\n      return;\n    }\n  }, [skill, title, description, peopleNumber, location, post, mergedFiles]);\n\n  const onChangeFilter = useCallback((value) => {\n    setFilter(value);\n  }, []);\n\n  const onForumSubmit = useCallback(() => {\n    if (!me) {\n      alert(\"로그인이 필요한 서비스입니다.\");\n      return;\n    }\n    if (title === \"\") {\n      alert(\"제목을 채워주세요.\");\n      return;\n    }\n    if (description === \"\") {\n      alert(\"내용을 채워주세요.\");\n      return;\n    }\n    if (description.length < 5) {\n      alert(\"내용을 5글자 이상 써주세요.\");\n      return;\n    }\n\n    let submitConfirm = confirm(\"게시물을 등록하시겠습니까?\");\n    if (submitConfirm) {\n      const formData = new FormData();\n      mergedFiles.forEach((file) => formData.append(\"files\", file));\n      formData.append(\"type\", \"forum\");\n      formData.append(\"writer\", me._id);\n      formData.append(\"title\", title);\n      formData.append(\"content\", description);\n      formData.append(\"tag\", JSON.stringify(tags));\n      formData.append(\"field\", filter);\n\n      dispatch(writePostRequestAction(formData));\n    } else {\n      return;\n    }\n  }, [title, description, tags, router, me, filter, mergedFiles]);\n\n  const onForumEdit = useCallback(() => {\n    if (!me) {\n      alert(\"로그인이 필요한 서비스입니다.\");\n      return;\n    }\n    if (title === \"\") {\n      alert(\"제목을 채워주세요.\");\n      return;\n    }\n    if (description === \"\") {\n      alert(\"내용을 채워주세요.\");\n      return;\n    }\n    if (description.length < 5) {\n      alert(\"내용을 5글자 이상 써주세요.\");\n      return;\n    }\n\n    let editConfirm = confirm(\"수정하시겠습니까?\");\n    if (editConfirm) {\n      const formData = new FormData();\n      let existFilePaths = [];\n      let existFileNames = [];\n\n      mergedFiles.forEach((file) => {\n        if (file.size) {\n          formData.append(\"files\", file);\n        } else {\n          existFilePaths.push(file.url.replace(`${SERVER_URL}/`, \"\"));\n          existFileNames.push(file.name);\n        }\n      });\n\n      formData.append(\"type\", \"forum\");\n      formData.append(\"id\", post._id);\n      formData.append(\"title\", title);\n      formData.append(\"content\", description);\n      formData.append(\"tag\", JSON.stringify(tags));\n      formData.append(\"field\", filter);\n      formData.append(\"filePath\", JSON.stringify(existFilePaths));\n      formData.append(\"fileName\", JSON.stringify(existFileNames));\n\n      axios\n        .patch(`api/posts`, formData)\n        .then(() => {\n          Router.push(`/${post.type}/${post._id}`);\n        })\n        .catch((error) => {\n          alert(\"수정실패\");\n        });\n    } else {\n      return;\n    }\n  }, [title, description, tags, post, filter, mergedFiles]);\n\n  return (\n    <>\n      {contentType == \"study\" || contentType == \"project\" ? (\n        <WriteFormWrapper>\n          {contentType === \"study\" ? (\n            <TitleWrapper>스터디 모집</TitleWrapper>\n          ) : (\n            <TitleWrapper>프로젝트 모집</TitleWrapper>\n          )}\n          <FormItemWrapper>\n            <div style={{ marginBottom: \"7px\" }}>\n              <Label>활용기술</Label>\n            </div>\n            <SkillFilterForm\n              type=\"write\"\n              isEdit={isEdit}\n              values={isEdit && post.techStack}\n            />\n          </FormItemWrapper>\n          <FormItemWrapper style={{ display: \"flex\" }}>\n            <Label style={{ lineHeight: \"32px\" }}>모집인원</Label>\n            <Select\n              defaultValue={isEdit ? post.recruitment : \"1\"}\n              bordered={false}\n              style={{ color: \"#999\" }}\n              onChange={onChangePeopleNumber}\n            >\n              {PeopleSelectChildren}\n            </Select>\n            <Label style={{ lineHeight: \"32px\" }}>지역</Label>\n            <Select\n              defaultValue={isEdit ? post.location : \"전체\"}\n              bordered={false}\n              style={{ color: \"#999\" }}\n              onChange={onChangeLocation}\n            >\n              {LocationSelectChildren}\n            </Select>\n          </FormItemWrapper>\n\n          <Editor\n            onChangeDescription={onChangeDescription}\n            onChangeTitle={onChangeTitle}\n            description={description}\n            title={title}\n          />\n\n          <Upload\n            name=\"logo\"\n            beforeUpload={onChangeFileList}\n            defaultFileList={mergeFiles()}\n            onRemove={onRemoveFile}\n          >\n            <Button className=\"file-btn\" icon={<UploadOutlined />}>\n              파일 업로드\n            </Button>\n          </Upload>\n          <div style={{ textAlign: \"center\", margin: \"50px 0\" }}>\n            <Button\n              type=\"primary\"\n              style={{\n                width: \"100px\",\n                background: \"#313355\",\n                color: \"#fff\",\n                border: \"1px solid #313355\",\n              }}\n              onClick={isEdit ? onStudyAndProjectEdit : onStudyAndProjectSubmit}\n            >\n              {isEdit ? \"수정\" : \"등록\"}\n            </Button>\n          </div>\n        </WriteFormWrapper>\n      ) : (\n        <WriteFormWrapper>\n          <TitleWrapper>글쓰기</TitleWrapper>\n          <FormItemWrapper>\n            <Label style={{ lineHeight: \"32px\" }}>분류</Label>\n            <Select\n              defaultValue={isEdit ? post.field : filter}\n              bordered={false}\n              style={{ color: \"#999\" }}\n              onChange={onChangeFilter}\n            >\n              {ForumSelectChildren}\n            </Select>\n          </FormItemWrapper>\n\n          <FormItemWrapper>\n            <div style={{ marginBottom: \"7px\" }}>\n              <Label>태그</Label>\n            </div>\n            <TagBox\n              tags={tags}\n              setTags={setTags}\n              inputVisible={inputVisible}\n              setInputVisible={setInputVisible}\n              inputValue={inputValue}\n              setInputValue={setInputValue}\n              editInputIndex={editInputIndex}\n              setEditInputIndex={setEditInputIndex}\n              editInputValue={editInputValue}\n              setEditInputValue={setEditInputValue}\n            />\n          </FormItemWrapper>\n\n          <Editor\n            onChangeDescription={onChangeDescription}\n            onChangeTitle={onChangeTitle}\n            description={description}\n            title={title}\n          />\n          <Upload\n            name=\"logo\"\n            beforeUpload={onChangeFileList}\n            defaultFileList={mergeFiles()}\n            onRemove={onRemoveFile}\n          >\n            <Button className=\"file-btn\" icon={<UploadOutlined />}>\n              파일 업로드\n            </Button>\n          </Upload>\n\n          <div style={{ textAlign: \"center\", margin: \"50px 0\" }}>\n            <Button\n              type=\"primary\"\n              style={{\n                width: \"100px\",\n                background: \"#313355\",\n                color: \"#fff\",\n                border: \"1px solid #313355\",\n              }}\n              onClick={isEdit ? onForumEdit : onForumSubmit}\n            >\n              {isEdit ? \"수정\" : \"등록\"}\n            </Button>\n          </div>\n        </WriteFormWrapper>\n      )}\n    </>\n  );\n};\n\nexport default withRouter(WriteForm);\n"]},"metadata":{},"sourceType":"module"}