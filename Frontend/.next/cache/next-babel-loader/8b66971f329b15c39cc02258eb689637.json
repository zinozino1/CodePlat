{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/jinho/Project/ProjectFrontend/components/auth/RegisterInputForm.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useCallback, useState, useEffect } from \"react\";\nimport { Form, Input, Select, Button, Divider, Upload, Steps, Result } from \"antd\";\nimport { UserOutlined, UploadOutlined, SolutionOutlined, SmileOutlined } from \"@ant-design/icons\";\nimport styled from \"styled-components\";\nimport Link from \"next/link\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport SocialTemplate from \"../common/auth/SocialTemplate\";\nimport useInput from \"../../hooks/useInput\";\nimport SkillFilterForm from \"../common/contents/SkillFilterForm\";\nimport { EmailRegex } from \"../../lib/constant/constant\";\nimport axios from \"axios\";\nimport { withRouter } from \"next/router\";\nimport FormData from \"form-data\";\nimport firebase from \"../../firebase\";\n/**\n * @author 박진호\n * @version 1.0\n * @summary 회원가입 종합 컴포넌트\n */\n// style\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 8\n    }\n  },\n  wrapperCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 16\n    }\n  }\n};\nvar RegisterFormWrapper = styled(Form).withConfig({\n  displayName: \"RegisterInputForm__RegisterFormWrapper\",\n  componentId: \"sn3xer-0\"\n})([\".register-btn{margin:20px 0;text-align:center;}.ant-divider{font-size:12px;margin:50px 0;}\"]);\n_c = RegisterFormWrapper;\nvar RegisterInputItemWrapper = styled(Form.Item).withConfig({\n  displayName: \"RegisterInputForm__RegisterInputItemWrapper\",\n  componentId: \"sn3xer-1\"\n})([\".ant-form-item-label{text-align:left;}.email-code{width:200px;}.ant-form-item-control{}\"]);\n_c2 = RegisterInputItemWrapper;\nvar PushBackButton = styled.span.withConfig({\n  displayName: \"RegisterInputForm__PushBackButton\",\n  componentId: \"sn3xer-2\"\n})([\"color:#888;font-size:12px;text-decoration:underline;cursor:pointer;\"]);\n_c3 = PushBackButton;\nvar StyledDivider = styled(Divider).withConfig({\n  displayName: \"RegisterInputForm__StyledDivider\",\n  componentId: \"sn3xer-3\"\n})([\"\"]);\n_c4 = StyledDivider;\nvar formData = new FormData();\n\nvar RegisterInputForm = function RegisterInputForm(_ref) {\n  _s();\n\n  var router = _ref.router;\n\n  // redux\n  var _useSelector = useSelector(function (state) {\n    return state.skill;\n  }),\n      skill = _useSelector.skill; // local state\n\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState = useState(null),\n      userId = _useState[0],\n      setUserId = _useState[1];\n\n  var _useState2 = useState(null),\n      registerType = _useState2[0],\n      setRegisterType = _useState2[1];\n\n  var _useState3 = useState(0),\n      progress = _useState3[0],\n      setProgress = _useState3[1];\n\n  var _useState4 = useState(\"\"),\n      socialType = _useState4[0],\n      setSocialType = _useState4[1];\n\n  var _useState5 = useState(true),\n      formError = _useState5[0],\n      setFormError = _useState5[1];\n\n  var _useState6 = useState(false),\n      nicknameExistError = _useState6[0],\n      setNicknameExistError = _useState6[1];\n\n  var _useState7 = useState(false),\n      emailExistError = _useState7[0],\n      setEmailExistError = _useState7[1];\n\n  var _useState8 = useState(false),\n      noneEmailUser = _useState8[0],\n      setNoneEmailUser = _useState8[1];\n\n  var _useState9 = useState(false),\n      firebaseLoading = _useState9[0],\n      setFirebaseLoading = _useState9[1];\n\n  var _useState10 = useState(null),\n      imageFile = _useState10[0],\n      setImageFile = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      nickname = _useState11[0],\n      setNickname = _useState11[1];\n\n  var _useState12 = useState(\"\"),\n      email = _useState12[0],\n      setEmail = _useState12[1];\n\n  var _useInput = useInput(\"\"),\n      _useInput2 = _slicedToArray(_useInput, 2),\n      confirmEmail = _useInput2[0],\n      onChangeConfirmEmail = _useInput2[1];\n\n  var _useInput3 = useInput(\"\"),\n      _useInput4 = _slicedToArray(_useInput3, 2),\n      password = _useInput4[0],\n      onChangePassword = _useInput4[1];\n\n  var _useInput5 = useInput(\"\"),\n      _useInput6 = _slicedToArray(_useInput5, 2),\n      confirmPassword = _useInput6[0],\n      onChangeConfirmPassword = _useInput6[1];\n\n  var _useInput7 = useInput(\"\"),\n      _useInput8 = _slicedToArray(_useInput7, 2),\n      githubUrl = _useInput8[0],\n      onChangeGithubUrl = _useInput8[1]; // helper method\n\n\n  var normFile = function normFile(e) {\n    if (e.file.status === \"done\") {\n      formData.append(\"avatar\", e.fileList[0].originFileObj);\n    } else if (e.file.status === \"removed\") {\n      formData[\"delete\"](\"avatar\");\n    }\n\n    var fileList = e.fileList;\n    fileList = fileList.slice(-1);\n\n    if (Array.isArray(e)) {\n      return e;\n    }\n\n    return e && fileList;\n  }; // event listener\n\n\n  var onChangeNickname = useCallback(function (e) {\n    setNickname(e.target.value);\n    setNicknameExistError(false);\n  }, []);\n  var onChangeEmail = useCallback(function (e) {\n    setEmail(e.target.value);\n    setEmailExistError(false);\n  }, []);\n  var onClickEmailVerify = useCallback(function () {\n    setProgress(2);\n    var config = {\n      headers: {\n        Accept: \"application/json\",\n        enctype: \"multipart/form-data\"\n      }\n    };\n    formData.append(\"type\", \"local\");\n    formData.append(\"id\", userId);\n    formData.append(\"techStack\", JSON.stringify(skill));\n    formData.append(\"githubUrl\", githubUrl);\n    axios.post(\"/api/join/optionForm\", formData, config);\n  }, [userId, skill, githubUrl]);\n  var onClickLocalButton = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!formError) {\n              _context2.next = 2;\n              break;\n            }\n\n            return _context2.abrupt(\"return\");\n\n          case 2:\n            _context2.next = 4;\n            return axios.post(\"/api/join\", {\n              email: email,\n              nickname: nickname,\n              password: password\n            }).then( /*#__PURE__*/function () {\n              var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(res) {\n                var createdUser;\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        setUserId(res.data.userId);\n                        setEmailExistError(false);\n                        setNicknameExistError(false);\n                        setRegisterType(\"local\");\n                        setProgress(1);\n                        setFirebaseLoading(true);\n                        _context.next = 8;\n                        return firebase.auth().createUserWithEmailAndPassword(email, email);\n\n                      case 8:\n                        createdUser = _context.sent;\n                        _context.next = 11;\n                        return createdUser.user.updateProfile({\n                          displayName: nickname\n                        });\n\n                      case 11:\n                        _context.next = 13;\n                        return firebase.database().ref(\"users\").child(createdUser.user.uid).set({\n                          nickname: createdUser.user.displayName,\n                          email: createdUser.user.email,\n                          type: \"local\",\n                          isInMypage: false\n                        });\n\n                      case 13:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x) {\n                return _ref3.apply(this, arguments);\n              };\n            }())[\"catch\"](function (err) {\n              if (err.response.data.error.name === \"UserExistsError\") {\n                setEmailExistError(true);\n              } else {\n                setNicknameExistError(true);\n              }\n            });\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })), [formError, email, nickname, password]);\n  var onPushBack = useCallback(function () {\n    setRegisterType(null);\n    setProgress(0);\n  }, []);\n  var onSocialRegisterSubmit = useCallback(function (e) {\n    if (nickname === \"\") {\n      alert(\"닉네임을 입력해주세요.\");\n      return;\n    }\n\n    if (noneEmailUser && email === \"\") {\n      console.log(noneEmailUser, email);\n      alert(\"이메일을 입력해주세요.\");\n      return;\n    }\n\n    var config = {\n      headers: {\n        Accept: \"application/json\",\n        enctype: \"multipart/form-data\"\n      }\n    };\n\n    if (noneEmailUser) {\n      formData.append(\"type\", \"email\");\n      formData.append(\"nickname\", nickname);\n      formData.append(\"techStack\", JSON.stringify(skill));\n      formData.append(\"githubUrl\", githubUrl);\n      formData.append(\"email\", email);\n      axios.post(\"/api/join/optionForm\", formData, config).then( /*#__PURE__*/function () {\n        var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(res) {\n          var createdUser;\n          return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!(res.data.message === \"email is reduplication\")) {\n                    _context3.next = 10;\n                    break;\n                  }\n\n                  setEmailExistError(true);\n                  formData[\"delete\"](\"type\");\n                  formData[\"delete\"](\"nickname\");\n                  formData[\"delete\"](\"techStack\");\n                  formData[\"delete\"](\"githubUrl\");\n                  formData[\"delete\"](\"email\");\n                  return _context3.abrupt(\"return\");\n\n                case 10:\n                  if (!(res.data.message === \"nickname is reduplication\")) {\n                    _context3.next = 18;\n                    break;\n                  }\n\n                  setNicknameExistError(true);\n                  formData[\"delete\"](\"type\");\n                  formData[\"delete\"](\"nickname\");\n                  formData[\"delete\"](\"techStack\");\n                  formData[\"delete\"](\"githubUrl\");\n                  formData[\"delete\"](\"email\");\n                  return _context3.abrupt(\"return\");\n\n                case 18:\n                  setNicknameExistError(false);\n                  setEmailExistError(false);\n                  setProgress(2);\n                  _context3.next = 23;\n                  return firebase.auth().createUserWithEmailAndPassword(email, email);\n\n                case 23:\n                  createdUser = _context3.sent;\n                  _context3.next = 26;\n                  return createdUser.user.updateProfile({\n                    displayName: nickname\n                  });\n\n                case 26:\n                  _context3.next = 28;\n                  return firebase.database().ref(\"users\").child(createdUser.user.uid).set({\n                    nickname: createdUser.user.displayName,\n                    type: \"social\",\n                    isInMypage: false\n                  });\n\n                case 28:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3);\n        }));\n\n        return function (_x2) {\n          return _ref4.apply(this, arguments);\n        };\n      }())[\"catch\"](function (error) {\n        console.log(error);\n        alert(\"에러 발생.\");\n        formData[\"delete\"](\"type\");\n        formData[\"delete\"](\"nickname\");\n        formData[\"delete\"](\"techStack\");\n        formData[\"delete\"](\"githubUrl\");\n        formData[\"delete\"](\"email\");\n      });\n    } else {\n      formData.append(\"type\", \"sns\");\n      formData.append(\"nickname\", nickname);\n      formData.append(\"techStack\", JSON.stringify(skill));\n      formData.append(\"githubUrl\", githubUrl);\n      axios.post(\"/api/join/optionForm\", formData, config).then( /*#__PURE__*/function () {\n        var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(res) {\n          var createdUser, SignedInUser;\n          return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  if (!(res.data.message === \"nickname is reduplication\")) {\n                    _context4.next = 7;\n                    break;\n                  }\n\n                  setNicknameExistError(true);\n                  formData[\"delete\"](\"type\");\n                  formData[\"delete\"](\"nickname\");\n                  formData[\"delete\"](\"techStack\");\n                  formData[\"delete\"](\"githubUrl\");\n                  return _context4.abrupt(\"return\");\n\n                case 7:\n                  setNicknameExistError(false);\n                  setFirebaseLoading(true);\n                  _context4.next = 11;\n                  return firebase.auth().createUserWithEmailAndPassword(res.data.user.email, res.data.user.email);\n\n                case 11:\n                  createdUser = _context4.sent;\n                  _context4.next = 14;\n                  return createdUser.user.updateProfile({\n                    displayName: nickname\n                  });\n\n                case 14:\n                  _context4.next = 16;\n                  return firebase.database().ref(\"users\").child(createdUser.user.uid).set({\n                    email: createdUser.user.email,\n                    nickname: createdUser.user.displayName,\n                    type: \"social\",\n                    isInMypage: false\n                  });\n\n                case 16:\n                  _context4.next = 18;\n                  return firebase.auth().signInWithEmailAndPassword(res.data.user.email, res.data.user.email);\n\n                case 18:\n                  SignedInUser = _context4.sent;\n                  setFirebaseLoading(false);\n                  router.push(\"/\");\n\n                case 21:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4);\n        }));\n\n        return function (_x3) {\n          return _ref5.apply(this, arguments);\n        };\n      }())[\"catch\"](function (error) {\n        alert(\"에러 발생.\");\n        console.log(error);\n        formData[\"delete\"](\"type\");\n        formData[\"delete\"](\"nickname\");\n        formData[\"delete\"](\"techStack\");\n        formData[\"delete\"](\"githubUrl\");\n      });\n    }\n  }, [nickname, skill, githubUrl]); // hooks\n\n  useEffect(function () {\n    if (nickname.length !== 0 && email.length !== 0 && confirmEmail.length !== 0 && password.length !== 0 && password.length >= 8 && confirmPassword.length !== 0 && password === confirmPassword && email === confirmEmail && email.match(EmailRegex)) {\n      setFormError(false);\n    } else {\n      setFormError(true);\n    }\n  }, [nickname, email, confirmEmail, password, confirmPassword]);\n  useEffect(function () {\n    if (router.query.type === \"sns\") {\n      setProgress(1);\n      setRegisterType(\"social\");\n    } else if (router.query.type === \"email\") {\n      setProgress(1);\n      setRegisterType(\"social\");\n      setNoneEmailUser(true);\n    }\n  }, [router]);\n  return /*#__PURE__*/_jsxDEV(RegisterFormWrapper, _objectSpread(_objectSpread({}, formItemLayout), {}, {\n    form: form,\n    name: \"register\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        fontSize: \"18px\",\n        fontWeight: \"bold\",\n        marginBottom: \"40px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        href: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          style: {\n            color: \"#16172b\",\n            fontWeight: \"300\"\n          },\n          children: \"CodePlat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Steps, {\n      current: progress,\n      onChange: setProgress,\n      style: {\n        marginBottom: \"70px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Steps.Step, {\n        title: \"\\uD68C\\uC6D0\\uAC00\\uC785\",\n        icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 40\n        }, _this),\n        disabled: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Steps.Step, {\n        title: \"\\uCD94\\uAC00\\uC815\\uBCF4\",\n        icon: /*#__PURE__*/_jsxDEV(SolutionOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 40\n        }, _this),\n        disabled: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Steps.Step, {\n        title: \"\\uC644\\uB8CC\",\n        icon: /*#__PURE__*/_jsxDEV(SmileOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 38\n        }, _this),\n        disabled: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 7\n    }, _this), progress == 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [nicknameExistError ? /*#__PURE__*/_jsxDEV(RegisterInputItemWrapper, {\n        name: \"nickname\",\n        label: \"\\uB2C9\\uB124\\uC784\",\n        validateStatus: \"error\",\n        help: \"\\uC774\\uBBF8 \\uC874\\uC7AC\\uD558\\uB294 \\uB2C9\\uB124\\uC784\\uC785\\uB2C8\\uB2E4.\",\n        rules: [{\n          required: true,\n          message: \"닉네임을 입력해주세요.\",\n          whitespace: true\n        }],\n        onChange: onChangeNickname,\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"nickname\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 15\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 13\n      }, _this) : /*#__PURE__*/_jsxDEV(RegisterInputItemWrapper, {\n        name: \"nickname\",\n        label: \"\\uB2C9\\uB124\\uC784\",\n        rules: [{\n          required: true,\n          message: \"닉네임을 입력해주세요.\",\n          whitespace: true\n        }],\n        onChange: onChangeNickname,\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"nickname\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 15\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 13\n      }, _this), emailExistError ? /*#__PURE__*/_jsxDEV(RegisterInputItemWrapper, {\n        name: \"email\",\n        label: \"\\uC774\\uBA54\\uC77C\",\n        validateStatus: \"error\",\n        help: \"\\uC774\\uBBF8 \\uC874\\uC7AC\\uD558\\uB294 \\uC774\\uBA54\\uC77C\\uC785\\uB2C8\\uB2E4.\",\n        rules: [{\n          type: \"email\",\n          message: \"이메일 형식으로 입력해 주세요.\"\n        }, {\n          required: true,\n          message: \"이메일을 입력해주세요.\"\n        }],\n        onChange: onChangeEmail,\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 15\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 13\n      }, _this) : /*#__PURE__*/_jsxDEV(RegisterInputItemWrapper, {\n        name: \"email\",\n        label: \"\\uC774\\uBA54\\uC77C\",\n        rules: [{\n          type: \"email\",\n          message: \"이메일 형식으로 입력해 주세요.\"\n        }, {\n          required: true,\n          message: \"이메일을 입력해주세요.\"\n        }],\n        onChange: onChangeEmail,\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 15\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(RegisterInputItemWrapper, {\n        name: \"confirmEmail\",\n        label: \"\\uC774\\uBA54\\uC77C \\uD655\\uC778\",\n        rules: [{\n          required: true,\n          message: \"이메일 확인을 입력해주세요.\"\n        }, function (_ref6) {\n          var getFieldValue = _ref6.getFieldValue;\n          return {\n            validator: function validator(_, value) {\n              if (!value || getFieldValue(\"email\") === value) {\n                return Promise.resolve();\n              }\n\n              return Promise.reject(\"이메일이 일치하지 않습니다.\");\n            }\n          };\n        }],\n        onChange: onChangeConfirmEmail,\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"confirm email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(RegisterInputItemWrapper, {\n        name: \"password\",\n        label: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n        rules: [{\n          required: true,\n          message: \"비밀번호를 입력해주세요.\"\n        }, {\n          min: 8,\n          message: \"8자리 이상 비밀번호를 입력해주세요.\"\n        }],\n        hasFeedback: true,\n        onChange: onChangePassword,\n        children: /*#__PURE__*/_jsxDEV(Input.Password, {\n          placeholder: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(RegisterInputItemWrapper, {\n        name: \"confirmpassword\",\n        label: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",\n        dependencies: [\"password\"],\n        hasFeedback: true,\n        rules: [{\n          required: true,\n          message: \"비밀번호를 입력해주세요.\"\n        }, function (_ref7) {\n          var getFieldValue = _ref7.getFieldValue;\n          return {\n            validator: function validator(_, value) {\n              if (!value || getFieldValue(\"password\") === value) {\n                return Promise.resolve();\n              }\n\n              return Promise.reject(\"비밀번호가 일치하지 않습니다.\");\n            }\n          };\n        }],\n        onChange: onChangeConfirmPassword,\n        children: /*#__PURE__*/_jsxDEV(Input.Password, {\n          placeholder: \"confirm password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"register-btn\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          htmlType: \"submit\",\n          onClick: onClickLocalButton,\n          style: {\n            background: \"#313355\",\n            color: \"#fff\",\n            border: \"1px solid #313355\"\n          },\n          children: \"\\uD655\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(StyledDivider, {\n        children: \"\\uC18C\\uC15C \\uD68C\\uC6D0\\uAC00\\uC785\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(SocialTemplate, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true), progress == 1 && registerType == \"local\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(StyledDivider, {\n        children: \"\\uC120\\uD0DD \\uC785\\uB825 \\uC0AC\\uD56D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(SkillFilterForm, {\n        type: \"register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(RegisterInputItemWrapper, {\n        name: \"github\",\n        label: \"Github\",\n        hasFeedback: true,\n        onChange: onChangeGithubUrl,\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"github \\uB2C9\\uB124\\uC784\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(RegisterInputItemWrapper, {\n        name: \"avatar\",\n        label: \"\\uC0AC\\uC6A9\\uC790 \\uC774\\uBBF8\\uC9C0 \\uC124\\uC815\",\n        valuePropName: \"fileList\",\n        getValueFromEvent: normFile,\n        children: /*#__PURE__*/_jsxDEV(Upload, {\n          name: \"logo\",\n          listType: \"picture\",\n          accept: \"image/*\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              background: \"#313355\",\n              color: \"#fff\",\n              border: \"1px solid #313355\"\n            },\n            icon: /*#__PURE__*/_jsxDEV(UploadOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 23\n            }, _this),\n            children: \"\\uD30C\\uC77C \\uC5C5\\uB85C\\uB4DC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(StyledDivider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"email-btn\",\n        style: {\n          textAlign: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          onClick: onClickEmailVerify,\n          style: {\n            background: \"#313355\",\n            color: \"#fff\",\n            border: \"1px solid #313355\"\n          },\n          children: \"\\uC774\\uBA54\\uC77C \\uC778\\uC99D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(PushBackButton, {\n        onClick: onPushBack,\n        children: \"\\uB4A4\\uB85C\\uAC00\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true), progress == 1 && registerType == \"social\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [nicknameExistError ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(RegisterInputItemWrapper, {\n          name: \"nickname\",\n          label: \"\\uB2C9\\uB124\\uC784\",\n          validateStatus: \"error\",\n          help: \"\\uC774\\uBBF8 \\uC874\\uC7AC\\uD558\\uB294 \\uB2C9\\uB124\\uC784\\uC785\\uB2C8\\uB2E4.\",\n          hasFeedback: true,\n          rules: [{\n            required: true,\n            message: \"닉네임을 입력해주세요.\",\n            whitespace: true\n          }],\n          onChange: onChangeNickname,\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"nickname\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 17\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 15\n        }, _this)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(RegisterInputItemWrapper, {\n          name: \"nickname\",\n          label: \"\\uB2C9\\uB124\\uC784\",\n          hasFeedback: true,\n          rules: [{\n            required: true,\n            message: \"닉네임을 입력해주세요.\",\n            whitespace: true\n          }],\n          onChange: onChangeNickname,\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"nickname\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 636,\n            columnNumber: 17\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 15\n        }, _this)\n      }, void 0, false), noneEmailUser && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: emailExistError ? /*#__PURE__*/_jsxDEV(RegisterInputItemWrapper, {\n          name: \"email\",\n          label: \"\\uC774\\uBA54\\uC77C\",\n          validateStatus: \"error\",\n          help: \"\\uC774\\uBBF8 \\uC874\\uC7AC\\uD558\\uB294 \\uC774\\uBA54\\uC77C\\uC785\\uB2C8\\uB2E4.\",\n          hasFeedback: true,\n          rules: [{\n            required: true,\n            message: \"이메일을 입력해주세요.\",\n            whitespace: true\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"email\",\n            onChange: onChangeEmail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 657,\n            columnNumber: 19\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 643,\n          columnNumber: 17\n        }, _this) : /*#__PURE__*/_jsxDEV(RegisterInputItemWrapper, {\n          name: \"email\",\n          label: \"\\uC774\\uBA54\\uC77C\",\n          hasFeedback: true,\n          rules: [{\n            required: true,\n            message: \"이메일을 입력해주세요.\",\n            whitespace: true\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"email\",\n            onChange: onChangeEmail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 19\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 660,\n          columnNumber: 17\n        }, _this)\n      }, void 0, false), /*#__PURE__*/_jsxDEV(StyledDivider, {\n        children: \"\\uC120\\uD0DD \\uC785\\uB825 \\uC0AC\\uD56D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(SkillFilterForm, {\n        type: \"register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(RegisterInputItemWrapper, {\n        name: \"github\",\n        label: \"Github\",\n        hasFeedback: true,\n        onChange: onChangeGithubUrl,\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"github \\uB2C9\\uB124\\uC784\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 686,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 680,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(RegisterInputItemWrapper, {\n        name: \"avatar\",\n        label: \"\\uC0AC\\uC6A9\\uC790 \\uC774\\uBBF8\\uC9C0 \\uC124\\uC815\",\n        valuePropName: \"fileList\",\n        getValueFromEvent: normFile,\n        children: /*#__PURE__*/_jsxDEV(Upload, {\n          name: \"logo\",\n          listType: \"picture\",\n          accept: \"image/*\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            icon: /*#__PURE__*/_jsxDEV(UploadOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 695,\n              columnNumber: 29\n            }, _this),\n            children: \"\\uD30C\\uC77C \\uC5C5\\uB85C\\uB4DC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 694,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 688,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(StyledDivider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 698,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"email-btn\",\n        style: {\n          textAlign: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          onClick: onSocialRegisterSubmit,\n          style: {\n            background: \"#313355\",\n            color: \"#fff\",\n            border: \"1px solid #313355\"\n          },\n          children: \"\\uAC00\\uC785\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 11\n      }, _this), firebaseLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"\\uC7A0\\uC2DC\\uB9CC \\uAE30\\uB2E4\\uB824\\uC8FC\\uC138\\uC694...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 713,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(PushBackButton, {\n        onClick: onPushBack,\n        children: \"\\uB4A4\\uB85C\\uAC00\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 715,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true), progress == 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Result, {\n          status: \"success\",\n          title: \"\".concat(email, \" \\uC73C\\uB85C \\uC778\\uC99D \\uC694\\uCCAD\\n              \\uBA54\\uC77C\\uC744 \\uBCF4\\uB0C8\\uC2B5\\uB2C8\\uB2E4. \")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 720,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: \"16px\",\n          textAlign: \"center\"\n        },\n        children: [\"\\uD574\\uB2F9 \\uC774\\uBA54\\uC77C\\uC744 \\uD655\\uC778 \\uD558\\uC2DC\\uACE0, \\uC778\\uC99D \\uD655\\uC778 \\uB9C1\\uD06C\\uB97C \\uB20C\\uB7EC \\uC8FC\\uC2DC\\uAE30 \\uBC14\\uB78D\\uB2C8\\uB2E4.\", \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 727,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: \"13px\",\n          textAlign: \"center\",\n          margin: \"20px 0\",\n          color: \"#888\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"red\"\n          },\n          children: \"*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 13\n        }, _this), \"\\uC774\\uBA54\\uC77C \\uC778\\uC99D\\uC774 \\uC644\\uB8CC \\uB418\\uC9C0 \\uC54A\\uC744 \\uACBD\\uC6B0 \\uC0AC\\uC774\\uD2B8 \\uC774\\uC6A9\\uC5D0 \\uC81C\\uD55C\\uC774 \\uC788\\uC744 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\", /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"red\"\n          },\n          children: \"*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 730,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: \"13px\",\n          textAlign: \"center\",\n          margin: \"20px 0\",\n          textDecoration: \"underline\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/auth/login\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            style: {\n              color: \"#888\"\n            },\n            children: \"\\uB85C\\uADF8\\uC778\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 753,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 752,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 744,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 9\n    }, _this)]\n  }), void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 370,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(RegisterInputForm, \"+NnpQjgvLFbyOUOEh+WRn4jPU2k=\", false, function () {\n  return [useSelector, Form.useForm, useInput, useInput, useInput, useInput];\n});\n\n_c5 = RegisterInputForm;\nexport default _c6 = withRouter(RegisterInputForm);\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"RegisterFormWrapper\");\n$RefreshReg$(_c2, \"RegisterInputItemWrapper\");\n$RefreshReg$(_c3, \"PushBackButton\");\n$RefreshReg$(_c4, \"StyledDivider\");\n$RefreshReg$(_c5, \"RegisterInputForm\");\n$RefreshReg$(_c6, \"%default%\");","map":{"version":3,"sources":["/Users/jinho/Project/ProjectFrontend/components/auth/RegisterInputForm.jsx"],"names":["React","useCallback","useState","useEffect","Form","Input","Select","Button","Divider","Upload","Steps","Result","UserOutlined","UploadOutlined","SolutionOutlined","SmileOutlined","styled","Link","useDispatch","useSelector","SocialTemplate","useInput","SkillFilterForm","EmailRegex","axios","withRouter","FormData","firebase","formItemLayout","labelCol","xs","span","sm","wrapperCol","RegisterFormWrapper","RegisterInputItemWrapper","Item","PushBackButton","StyledDivider","formData","RegisterInputForm","router","state","skill","useForm","form","userId","setUserId","registerType","setRegisterType","progress","setProgress","socialType","setSocialType","formError","setFormError","nicknameExistError","setNicknameExistError","emailExistError","setEmailExistError","noneEmailUser","setNoneEmailUser","firebaseLoading","setFirebaseLoading","imageFile","setImageFile","nickname","setNickname","email","setEmail","confirmEmail","onChangeConfirmEmail","password","onChangePassword","confirmPassword","onChangeConfirmPassword","githubUrl","onChangeGithubUrl","normFile","e","file","status","append","fileList","originFileObj","slice","Array","isArray","onChangeNickname","target","value","onChangeEmail","onClickEmailVerify","config","headers","Accept","enctype","JSON","stringify","post","onClickLocalButton","then","res","data","auth","createUserWithEmailAndPassword","createdUser","user","updateProfile","displayName","database","ref","child","uid","set","type","isInMypage","err","response","error","name","onPushBack","onSocialRegisterSubmit","alert","console","log","message","signInWithEmailAndPassword","SignedInUser","push","length","match","query","textAlign","fontSize","fontWeight","marginBottom","color","required","whitespace","getFieldValue","validator","_","Promise","resolve","reject","min","background","border","margin","textDecoration"],"mappings":"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","sourcesContent":["import React, { useCallback, useState, useEffect } from \"react\";\nimport {\n  Form,\n  Input,\n  Select,\n  Button,\n  Divider,\n  Upload,\n  Steps,\n  Result,\n} from \"antd\";\nimport {\n  UserOutlined,\n  UploadOutlined,\n  SolutionOutlined,\n  SmileOutlined,\n} from \"@ant-design/icons\";\nimport styled from \"styled-components\";\nimport Link from \"next/link\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport SocialTemplate from \"../common/auth/SocialTemplate\";\nimport useInput from \"../../hooks/useInput\";\nimport SkillFilterForm from \"../common/contents/SkillFilterForm\";\nimport { EmailRegex } from \"../../lib/constant/constant\";\nimport axios from \"axios\";\nimport { withRouter } from \"next/router\";\nimport FormData from \"form-data\";\nimport firebase from \"../../firebase\";\n\n/**\n * @author 박진호\n * @version 1.0\n * @summary 회원가입 종합 컴포넌트\n */\n\n// style\n\nconst formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 24,\n    },\n    sm: {\n      span: 8,\n    },\n  },\n  wrapperCol: {\n    xs: {\n      span: 24,\n    },\n    sm: {\n      span: 16,\n    },\n  },\n};\n\nconst RegisterFormWrapper = styled(Form)`\n  .register-btn {\n    margin: 20px 0;\n    text-align: center;\n  }\n  .ant-divider {\n    font-size: 12px;\n    margin: 50px 0;\n  }\n`;\n\nconst RegisterInputItemWrapper = styled(Form.Item)`\n  .ant-form-item-label {\n    text-align: left;\n  }\n  .email-code {\n    width: 200px;\n  }\n  .ant-form-item-control {\n  }\n`;\n\nconst PushBackButton = styled.span`\n  color: #888;\n  font-size: 12px;\n  text-decoration: underline;\n  cursor: pointer;\n`;\n\nconst StyledDivider = styled(Divider)``;\n\nconst formData = new FormData();\nconst RegisterInputForm = ({ router }) => {\n  // redux\n\n  const { skill } = useSelector((state) => state.skill);\n\n  // local state\n\n  const [form] = Form.useForm();\n  const [userId, setUserId] = useState(null);\n  const [registerType, setRegisterType] = useState(null);\n  const [progress, setProgress] = useState(0);\n  const [socialType, setSocialType] = useState(\"\");\n  const [formError, setFormError] = useState(true);\n  const [nicknameExistError, setNicknameExistError] = useState(false);\n  const [emailExistError, setEmailExistError] = useState(false);\n  const [noneEmailUser, setNoneEmailUser] = useState(false);\n  const [firebaseLoading, setFirebaseLoading] = useState(false);\n  const [imageFile, setImageFile] = useState(null);\n  const [nickname, setNickname] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [confirmEmail, onChangeConfirmEmail] = useInput(\"\");\n  const [password, onChangePassword] = useInput(\"\");\n  const [confirmPassword, onChangeConfirmPassword] = useInput(\"\");\n  const [githubUrl, onChangeGithubUrl] = useInput(\"\");\n\n  // helper method\n\n  const normFile = (e) => {\n    if (e.file.status === \"done\") {\n      formData.append(\"avatar\", e.fileList[0].originFileObj);\n    } else if (e.file.status === \"removed\") {\n      formData.delete(\"avatar\");\n    }\n    let fileList = e.fileList;\n    fileList = fileList.slice(-1);\n    if (Array.isArray(e)) {\n      return e;\n    }\n    return e && fileList;\n  };\n\n  // event listener\n\n  const onChangeNickname = useCallback((e) => {\n    setNickname(e.target.value);\n    setNicknameExistError(false);\n  }, []);\n\n  const onChangeEmail = useCallback((e) => {\n    setEmail(e.target.value);\n    setEmailExistError(false);\n  }, []);\n\n  const onClickEmailVerify = useCallback(() => {\n    setProgress(2);\n    const config = {\n      headers: {\n        Accept: \"application/json\",\n        enctype: \"multipart/form-data\",\n      },\n    };\n    formData.append(\"type\", \"local\");\n    formData.append(\"id\", userId);\n    formData.append(\"techStack\", JSON.stringify(skill));\n    formData.append(\"githubUrl\", githubUrl);\n    axios.post(\"/api/join/optionForm\", formData, config);\n  }, [userId, skill, githubUrl]);\n\n  const onClickLocalButton = useCallback(async () => {\n    if (formError) return;\n    await axios\n      .post(\"/api/join\", { email, nickname, password })\n      .then(async (res) => {\n        setUserId(res.data.userId);\n        setEmailExistError(false);\n        setNicknameExistError(false);\n        setRegisterType(\"local\");\n        setProgress(1);\n\n        setFirebaseLoading(true);\n        let createdUser = await firebase\n          .auth()\n          .createUserWithEmailAndPassword(email, email);\n\n        await createdUser.user.updateProfile({\n          displayName: nickname,\n        });\n        await firebase.database().ref(\"users\").child(createdUser.user.uid).set({\n          nickname: createdUser.user.displayName,\n          email: createdUser.user.email,\n          type: \"local\",\n          isInMypage: false,\n        });\n      })\n      .catch((err) => {\n        if (err.response.data.error.name === \"UserExistsError\") {\n          setEmailExistError(true);\n        } else {\n          setNicknameExistError(true);\n        }\n      });\n  }, [formError, email, nickname, password]);\n\n  const onPushBack = useCallback(() => {\n    setRegisterType(null);\n    setProgress(0);\n  }, []);\n\n  const onSocialRegisterSubmit = useCallback(\n    (e) => {\n      if (nickname === \"\") {\n        alert(\"닉네임을 입력해주세요.\");\n        return;\n      }\n      if (noneEmailUser && email === \"\") {\n        console.log(noneEmailUser, email);\n        alert(\"이메일을 입력해주세요.\");\n        return;\n      }\n      const config = {\n        headers: {\n          Accept: \"application/json\",\n          enctype: \"multipart/form-data\",\n        },\n      };\n\n      if (noneEmailUser) {\n        formData.append(\"type\", \"email\");\n        formData.append(\"nickname\", nickname);\n        formData.append(\"techStack\", JSON.stringify(skill));\n        formData.append(\"githubUrl\", githubUrl);\n        formData.append(\"email\", email);\n        axios\n          .post(\"/api/join/optionForm\", formData, config)\n          .then(async (res) => {\n            if (res.data.message === \"email is reduplication\") {\n              setEmailExistError(true);\n              formData.delete(\"type\");\n              formData.delete(\"nickname\");\n              formData.delete(\"techStack\");\n              formData.delete(\"githubUrl\");\n              formData.delete(\"email\");\n              return;\n            } else if (res.data.message === \"nickname is reduplication\") {\n              setNicknameExistError(true);\n              formData.delete(\"type\");\n              formData.delete(\"nickname\");\n              formData.delete(\"techStack\");\n              formData.delete(\"githubUrl\");\n              formData.delete(\"email\");\n              return;\n            }\n\n            setNicknameExistError(false);\n            setEmailExistError(false);\n            setProgress(2);\n\n            let createdUser = await firebase\n              .auth()\n              .createUserWithEmailAndPassword(email, email);\n\n            await createdUser.user.updateProfile({\n              displayName: nickname,\n            });\n            await firebase\n              .database()\n              .ref(\"users\")\n              .child(createdUser.user.uid)\n              .set({\n                nickname: createdUser.user.displayName,\n                type: \"social\",\n                isInMypage: false,\n              });\n          })\n\n          .catch((error) => {\n            console.log(error);\n            alert(\"에러 발생.\");\n            formData.delete(\"type\");\n            formData.delete(\"nickname\");\n            formData.delete(\"techStack\");\n            formData.delete(\"githubUrl\");\n            formData.delete(\"email\");\n          });\n      } else {\n        formData.append(\"type\", \"sns\");\n        formData.append(\"nickname\", nickname);\n        formData.append(\"techStack\", JSON.stringify(skill));\n        formData.append(\"githubUrl\", githubUrl);\n        axios\n          .post(\"/api/join/optionForm\", formData, config)\n          .then(async (res) => {\n            if (res.data.message === \"nickname is reduplication\") {\n              setNicknameExistError(true);\n              formData.delete(\"type\");\n              formData.delete(\"nickname\");\n              formData.delete(\"techStack\");\n              formData.delete(\"githubUrl\");\n              return;\n            }\n\n            setNicknameExistError(false);\n            setFirebaseLoading(true);\n\n            let createdUser = await firebase\n              .auth()\n              .createUserWithEmailAndPassword(\n                res.data.user.email,\n                res.data.user.email,\n              );\n\n            await createdUser.user.updateProfile({\n              displayName: nickname,\n            });\n\n            await firebase\n              .database()\n              .ref(\"users\")\n              .child(createdUser.user.uid)\n              .set({\n                email: createdUser.user.email,\n                nickname: createdUser.user.displayName,\n                type: \"social\",\n                isInMypage: false,\n              });\n\n            let SignedInUser = await firebase\n              .auth()\n              .signInWithEmailAndPassword(\n                res.data.user.email,\n                res.data.user.email,\n              );\n            setFirebaseLoading(false);\n            router.push(\"/\");\n          })\n          .catch((error) => {\n            alert(\"에러 발생.\");\n            console.log(error);\n            formData.delete(\"type\");\n            formData.delete(\"nickname\");\n            formData.delete(\"techStack\");\n            formData.delete(\"githubUrl\");\n          });\n      }\n    },\n\n    [nickname, skill, githubUrl],\n  );\n\n  // hooks\n\n  useEffect(() => {\n    if (\n      nickname.length !== 0 &&\n      email.length !== 0 &&\n      confirmEmail.length !== 0 &&\n      password.length !== 0 &&\n      password.length >= 8 &&\n      confirmPassword.length !== 0 &&\n      password === confirmPassword &&\n      email === confirmEmail &&\n      email.match(EmailRegex)\n    ) {\n      setFormError(false);\n    } else {\n      setFormError(true);\n    }\n  }, [nickname, email, confirmEmail, password, confirmPassword]);\n\n  useEffect(() => {\n    if (router.query.type === \"sns\") {\n      setProgress(1);\n      setRegisterType(\"social\");\n    } else if (router.query.type === \"email\") {\n      setProgress(1);\n      setRegisterType(\"social\");\n      setNoneEmailUser(true);\n    }\n  }, [router]);\n\n  return (\n    <RegisterFormWrapper {...formItemLayout} form={form} name=\"register\">\n      <div\n        style={{\n          textAlign: \"center\",\n          fontSize: \"18px\",\n          fontWeight: \"bold\",\n          marginBottom: \"40px\",\n        }}\n      >\n        <Link href=\"/\">\n          <a style={{ color: \"#16172b\", fontWeight: \"300\" }}>CodePlat</a>\n        </Link>\n      </div>\n      <Steps\n        current={progress}\n        onChange={setProgress}\n        style={{ marginBottom: \"70px\" }}\n      >\n        <Steps.Step title=\"회원가입\" icon={<UserOutlined />} disabled />\n        <Steps.Step title=\"추가정보\" icon={<SolutionOutlined />} disabled />\n        <Steps.Step title=\"완료\" icon={<SmileOutlined />} disabled />\n      </Steps>\n      {progress == 0 && (\n        <>\n          {nicknameExistError ? (\n            <RegisterInputItemWrapper\n              name=\"nickname\"\n              label=\"닉네임\"\n              validateStatus=\"error\"\n              help=\"이미 존재하는 닉네임입니다.\"\n              rules={[\n                {\n                  required: true,\n                  message: \"닉네임을 입력해주세요.\",\n                  whitespace: true,\n                },\n              ]}\n              onChange={onChangeNickname}\n            >\n              <Input placeholder=\"nickname\" />\n            </RegisterInputItemWrapper>\n          ) : (\n            <RegisterInputItemWrapper\n              name=\"nickname\"\n              label=\"닉네임\"\n              rules={[\n                {\n                  required: true,\n                  message: \"닉네임을 입력해주세요.\",\n                  whitespace: true,\n                },\n              ]}\n              onChange={onChangeNickname}\n            >\n              <Input placeholder=\"nickname\" />\n            </RegisterInputItemWrapper>\n          )}\n\n          {emailExistError ? (\n            <RegisterInputItemWrapper\n              name=\"email\"\n              label=\"이메일\"\n              validateStatus=\"error\"\n              help=\"이미 존재하는 이메일입니다.\"\n              rules={[\n                {\n                  type: \"email\",\n                  message: \"이메일 형식으로 입력해 주세요.\",\n                },\n                {\n                  required: true,\n                  message: \"이메일을 입력해주세요.\",\n                },\n              ]}\n              onChange={onChangeEmail}\n            >\n              <Input placeholder=\"email\" />\n            </RegisterInputItemWrapper>\n          ) : (\n            <RegisterInputItemWrapper\n              name=\"email\"\n              label=\"이메일\"\n              rules={[\n                {\n                  type: \"email\",\n                  message: \"이메일 형식으로 입력해 주세요.\",\n                },\n                {\n                  required: true,\n                  message: \"이메일을 입력해주세요.\",\n                },\n              ]}\n              onChange={onChangeEmail}\n            >\n              <Input placeholder=\"email\" />\n            </RegisterInputItemWrapper>\n          )}\n          <RegisterInputItemWrapper\n            name=\"confirmEmail\"\n            label=\"이메일 확인\"\n            rules={[\n              {\n                required: true,\n                message: \"이메일 확인을 입력해주세요.\",\n              },\n              ({ getFieldValue }) => ({\n                validator(_, value) {\n                  if (!value || getFieldValue(\"email\") === value) {\n                    return Promise.resolve();\n                  }\n\n                  return Promise.reject(\"이메일이 일치하지 않습니다.\");\n                },\n              }),\n            ]}\n            onChange={onChangeConfirmEmail}\n          >\n            <Input placeholder=\"confirm email\" />\n          </RegisterInputItemWrapper>\n          <RegisterInputItemWrapper\n            name=\"password\"\n            label=\"비밀번호\"\n            rules={[\n              {\n                required: true,\n                message: \"비밀번호를 입력해주세요.\",\n              },\n              {\n                min: 8,\n                message: \"8자리 이상 비밀번호를 입력해주세요.\",\n              },\n            ]}\n            hasFeedback\n            onChange={onChangePassword}\n          >\n            <Input.Password placeholder=\"password\" />\n          </RegisterInputItemWrapper>\n          <RegisterInputItemWrapper\n            name=\"confirmpassword\"\n            label=\"비밀번호 확인\"\n            dependencies={[\"password\"]}\n            hasFeedback\n            rules={[\n              {\n                required: true,\n                message: \"비밀번호를 입력해주세요.\",\n              },\n              ({ getFieldValue }) => ({\n                validator(_, value) {\n                  if (!value || getFieldValue(\"password\") === value) {\n                    return Promise.resolve();\n                  }\n\n                  return Promise.reject(\"비밀번호가 일치하지 않습니다.\");\n                },\n              }),\n            ]}\n            onChange={onChangeConfirmPassword}\n          >\n            <Input.Password placeholder=\"confirm password\" />\n          </RegisterInputItemWrapper>\n\n          <div className=\"register-btn\">\n            <Button\n              type=\"primary\"\n              htmlType=\"submit\"\n              onClick={onClickLocalButton}\n              style={{\n                background: \"#313355\",\n                color: \"#fff\",\n                border: \"1px solid #313355\",\n              }}\n            >\n              확인\n            </Button>\n          </div>\n\n          <StyledDivider>소셜 회원가입</StyledDivider>\n          <SocialTemplate />\n        </>\n      )}\n      {progress == 1 && registerType == \"local\" && (\n        <>\n          <StyledDivider>선택 입력 사항</StyledDivider>\n          <SkillFilterForm type=\"register\" />\n          <RegisterInputItemWrapper\n            name=\"github\"\n            label=\"Github\"\n            hasFeedback\n            onChange={onChangeGithubUrl}\n          >\n            <Input placeholder=\"github 닉네임\" />\n          </RegisterInputItemWrapper>\n          <RegisterInputItemWrapper\n            name=\"avatar\"\n            label=\"사용자 이미지 설정\"\n            valuePropName=\"fileList\"\n            getValueFromEvent={normFile}\n          >\n            <Upload name=\"logo\" listType=\"picture\" accept=\"image/*\">\n              <Button\n                style={{\n                  background: \"#313355\",\n                  color: \"#fff\",\n                  border: \"1px solid #313355\",\n                }}\n                icon={<UploadOutlined />}\n              >\n                파일 업로드\n              </Button>\n            </Upload>\n          </RegisterInputItemWrapper>\n          <StyledDivider />\n          <div className=\"email-btn\" style={{ textAlign: \"center\" }}>\n            <Button\n              type=\"primary\"\n              onClick={onClickEmailVerify}\n              style={{\n                background: \"#313355\",\n                color: \"#fff\",\n                border: \"1px solid #313355\",\n              }}\n            >\n              이메일 인증\n            </Button>\n          </div>\n          <PushBackButton onClick={onPushBack}>뒤로가기</PushBackButton>\n        </>\n      )}\n      {progress == 1 && registerType == \"social\" && (\n        <>\n          {nicknameExistError ? (\n            <>\n              <RegisterInputItemWrapper\n                name=\"nickname\"\n                label=\"닉네임\"\n                validateStatus=\"error\"\n                help=\"이미 존재하는 닉네임입니다.\"\n                hasFeedback\n                rules={[\n                  {\n                    required: true,\n                    message: \"닉네임을 입력해주세요.\",\n                    whitespace: true,\n                  },\n                ]}\n                onChange={onChangeNickname}\n              >\n                <Input placeholder=\"nickname\" />\n              </RegisterInputItemWrapper>\n            </>\n          ) : (\n            <>\n              <RegisterInputItemWrapper\n                name=\"nickname\"\n                label=\"닉네임\"\n                hasFeedback\n                rules={[\n                  {\n                    required: true,\n                    message: \"닉네임을 입력해주세요.\",\n                    whitespace: true,\n                  },\n                ]}\n                onChange={onChangeNickname}\n              >\n                <Input placeholder=\"nickname\" />\n              </RegisterInputItemWrapper>\n            </>\n          )}\n          {noneEmailUser && (\n            <>\n              {emailExistError ? (\n                <RegisterInputItemWrapper\n                  name=\"email\"\n                  label=\"이메일\"\n                  validateStatus=\"error\"\n                  help=\"이미 존재하는 이메일입니다.\"\n                  hasFeedback\n                  rules={[\n                    {\n                      required: true,\n                      message: \"이메일을 입력해주세요.\",\n                      whitespace: true,\n                    },\n                  ]}\n                >\n                  <Input placeholder=\"email\" onChange={onChangeEmail} />\n                </RegisterInputItemWrapper>\n              ) : (\n                <RegisterInputItemWrapper\n                  name=\"email\"\n                  label=\"이메일\"\n                  hasFeedback\n                  rules={[\n                    {\n                      required: true,\n                      message: \"이메일을 입력해주세요.\",\n                      whitespace: true,\n                    },\n                  ]}\n                >\n                  <Input placeholder=\"email\" onChange={onChangeEmail} />\n                </RegisterInputItemWrapper>\n              )}\n            </>\n          )}\n\n          <StyledDivider>선택 입력 사항</StyledDivider>\n          <SkillFilterForm type=\"register\" />\n          <RegisterInputItemWrapper\n            name=\"github\"\n            label=\"Github\"\n            hasFeedback\n            onChange={onChangeGithubUrl}\n          >\n            <Input placeholder=\"github 닉네임\" />\n          </RegisterInputItemWrapper>\n          <RegisterInputItemWrapper\n            name=\"avatar\"\n            label=\"사용자 이미지 설정\"\n            valuePropName=\"fileList\"\n            getValueFromEvent={normFile}\n          >\n            <Upload name=\"logo\" listType=\"picture\" accept=\"image/*\">\n              <Button icon={<UploadOutlined />}>파일 업로드</Button>\n            </Upload>\n          </RegisterInputItemWrapper>\n          <StyledDivider />\n          <div className=\"email-btn\" style={{ textAlign: \"center\" }}>\n            <Button\n              type=\"primary\"\n              onClick={onSocialRegisterSubmit}\n              style={{\n                background: \"#313355\",\n                color: \"#fff\",\n                border: \"1px solid #313355\",\n              }}\n            >\n              가입하기\n            </Button>\n          </div>\n          {firebaseLoading && (\n            <div style={{ textAlign: \"center\" }}>잠시만 기다려주세요...</div>\n          )}\n          <PushBackButton onClick={onPushBack}>뒤로가기</PushBackButton>\n        </>\n      )}\n      {progress == 2 && (\n        <div>\n          <div>\n            <Result\n              status=\"success\"\n              title={`${email} 으로 인증 요청\n              메일을 보냈습니다. `}\n            />\n          </div>\n          <div style={{ fontSize: \"16px\", textAlign: \"center\" }}>\n            해당 이메일을 확인 하시고, 인증 확인 링크를 눌러 주시기 바랍니다.{\" \"}\n          </div>\n          <div\n            style={{\n              fontSize: \"13px\",\n              textAlign: \"center\",\n              margin: \"20px 0\",\n              color: \"#888\",\n            }}\n          >\n            <span style={{ color: \"red\" }}>*</span>\n            이메일 인증이 완료 되지 않을 경우 사이트 이용에 제한이 있을 수\n            있습니다.\n            <span style={{ color: \"red\" }}>*</span>\n          </div>\n\n          <div\n            style={{\n              fontSize: \"13px\",\n              textAlign: \"center\",\n              margin: \"20px 0\",\n              textDecoration: \"underline\",\n            }}\n          >\n            <Link href=\"/auth/login\">\n              <a style={{ color: \"#888\" }}>로그인</a>\n            </Link>\n          </div>\n        </div>\n      )}\n    </RegisterFormWrapper>\n  );\n};\n\nexport default withRouter(RegisterInputForm);\n"]},"metadata":{},"sourceType":"module"}